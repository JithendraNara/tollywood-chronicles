<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tollywood Chronicles â€” 26 Years of Telugu Cinema Box Office (2000â€“2026)</title>
<meta name="description" content="Interactive 3D dashboard exploring 26 years of Tollywood box office. Every hero, every movie, every record from 2000 to 2026. Budget, collection, verdict â€” all verified.">
<meta name="keywords" content="Tollywood, Telugu cinema, box office, Prabhas, Allu Arjun, Mahesh Babu, Jr NTR, Ram Charan, Chiranjeevi, Pawan Kalyan, Baahubali, Pushpa, RRR">
<meta name="author" content="Jithendra Nara">
<meta name="robots" content="index, follow">
<meta name="theme-color" content="#0a0a0f">

<!-- Open Graph / Social Sharing -->
<meta property="og:type" content="website">
<meta property="og:title" content="Tollywood Chronicles â€” 26 Years of Telugu Cinema Box Office">
<meta property="og:description" content="Interactive 3D dashboard exploring 26 years of Tollywood. Every hero, every movie, every record from 2000 to 2026.">
<meta property="og:url" content="https://jithendranara.dev/tollywood-chronicles/">
<meta property="og:site_name" content="Tollywood Chronicles">
<meta property="og:locale" content="en_IN">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Tollywood Chronicles â€” 26 Years of Telugu Cinema">
<meta name="twitter:description" content="Interactive 3D dashboard: heroes, movies, timelines & records of Tollywood box office (2000â€“2026)">

<!-- Favicon (golden film reel SVG) -->
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='%230a0a0f' stroke='%23f5c518' stroke-width='5'/%3E%3Ccircle cx='50' cy='50' r='20' fill='none' stroke='%23f5c518' stroke-width='3'/%3E%3Ccircle cx='50' cy='50' r='5' fill='%23f5c518'/%3E%3Ccircle cx='50' cy='15' r='6' fill='%23f5c518'/%3E%3Ccircle cx='50' cy='85' r='6' fill='%23f5c518'/%3E%3Ccircle cx='15' cy='50' r='6' fill='%23f5c518'/%3E%3Ccircle cx='85' cy='50' r='6' fill='%23f5c518'/%3E%3C/svg%3E">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&family=Oswald:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
/* ===== CSS RESET & BASE ===== */
*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }
html { scroll-behavior:smooth; overflow-x:hidden; }
body {
  background:#0a0a0f;
  color:#e0e0e0;
  font-family:'DM Sans', sans-serif;
  overflow-x:hidden;
  -webkit-font-smoothing:antialiased;
}

:root {
  --gold:#f5c518;
  --gold-dim:#c9a30e;
  --purple:#6b21a8;
  --purple-light:#9333ea;
  --red:#dc2626;
  --bg:#0a0a0f;
  --bg-card:rgba(20,20,35,0.65);
  --glass:rgba(255,255,255,0.04);
  --glass-border:rgba(255,255,255,0.08);
  --text-primary:#f0f0f0;
  --text-secondary:#a0a0b0;
  --glow-gold:0 0 30px rgba(245,197,24,0.3);
  --glow-purple:0 0 30px rgba(107,33,168,0.4);
  --hero-chiru:#FF6B00;
  --hero-pawan:#DC2626;
  --hero-mahesh:#2563EB;
  --hero-ntr:#7C3AED;
  --hero-prabhas:#059669;
  --hero-allu:#D97706;
  --hero-charan:#0891B2;
  --hero-balak:#DB2777;
  --hero-venky:#4F46E5;
  --hero-others:#6B7280;
}

h1, h2, h3, h4 { font-family:'Bebas Neue', 'Oswald', sans-serif; letter-spacing:0.05em; }

/* ===== SCROLLBAR ===== */
::-webkit-scrollbar { width:6px; }
::-webkit-scrollbar-track { background:#0a0a0f; }
::-webkit-scrollbar-thumb { background:var(--gold-dim); border-radius:3px; }

/* ===== BACKGROUND CANVAS ===== */
#bg-canvas {
  position:fixed; top:0; left:0; width:100vw; height:100vh;
  z-index:-1; pointer-events:none;
}

/* ===== GLOBAL SECTION STYLES ===== */
.section {
  position:relative;
  min-height:100vh;
  padding:80px 40px;
  perspective:1200px;
}
@media(max-width:768px) { .section { padding:60px 16px; } }

.section-title {
  font-size:clamp(2.5rem, 5vw, 4rem);
  color:var(--gold);
  text-align:center;
  margin-bottom:12px;
  text-shadow:0 0 40px rgba(245,197,24,0.25);
  position:relative;
}
.section-title::after {
  content:'';
  display:block;
  width:80px; height:3px;
  background:linear-gradient(90deg, transparent, var(--gold), transparent);
  margin:12px auto 0;
}
.section-subtitle {
  text-align:center;
  color:var(--text-secondary);
  font-size:1.05rem;
  margin-bottom:50px;
  font-weight:300;
}

/* ===== GLASS CARD ===== */
.glass-card {
  background:var(--bg-card);
  backdrop-filter:blur(16px);
  -webkit-backdrop-filter:blur(16px);
  border:1px solid var(--glass-border);
  border-radius:16px;
  padding:28px;
  transition:transform 0.4s cubic-bezier(.25,.46,.45,.94), box-shadow 0.4s ease;
  transform-style:preserve-3d;
}
.glass-card:hover {
  box-shadow:var(--glow-gold), inset 0 0 30px rgba(245,197,24,0.03);
}

/* ===== SCROLL ANIMATION ===== */
.reveal {
  opacity:0;
  transform:translateY(60px);
  transition:opacity 0.8s cubic-bezier(.25,.46,.45,.94), transform 0.8s cubic-bezier(.25,.46,.45,.94);
}
.reveal.visible {
  opacity:1;
  transform:translateY(0);
}
.reveal-left {
  opacity:0;
  transform:translateX(-80px);
  transition:opacity 0.8s ease, transform 0.8s ease;
}
.reveal-left.visible { opacity:1; transform:translateX(0); }
.reveal-right {
  opacity:0;
  transform:translateX(80px);
  transition:opacity 0.8s ease, transform 0.8s ease;
}
.reveal-right.visible { opacity:1; transform:translateX(0); }

/* ===== SECTION 1: HERO LANDING ===== */
#hero {
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  perspective:1200px;
  position:relative;
  overflow:hidden;
}
#hero::before {
  content:'';
  position:absolute;
  top:-50%; left:-50%;
  width:200%; height:200%;
  background:radial-gradient(ellipse at 50% 50%, rgba(245,197,24,0.06) 0%, rgba(107,33,168,0.03) 30%, transparent 60%);
  animation:heroGlow 8s ease-in-out infinite alternate;
}
@keyframes heroGlow {
  0% { transform:scale(1) rotate(0deg); }
  100% { transform:scale(1.1) rotate(3deg); }
}

.hero-title {
  font-family:'Bebas Neue', sans-serif;
  font-size:clamp(4rem, 12vw, 10rem);
  color:var(--gold);
  text-shadow:
    0 0 60px rgba(245,197,24,0.4),
    0 0 120px rgba(245,197,24,0.15),
    0 4px 0 #b8920f,
    0 8px 0 #8a6d0b;
  line-height:0.95;
  transform:perspective(800px) rotateX(5deg);
  animation:titleFloat 6s ease-in-out infinite alternate;
  position:relative;
  z-index:2;
}
@keyframes titleFloat {
  0% { transform:perspective(800px) rotateX(5deg) translateY(0); }
  100% { transform:perspective(800px) rotateX(3deg) translateY(-8px); }
}

.hero-subtitle {
  font-family:'DM Sans', sans-serif;
  font-size:clamp(1rem, 2.5vw, 1.5rem);
  color:var(--text-secondary);
  margin-top:20px;
  font-weight:300;
  letter-spacing:0.15em;
  position:relative; z-index:2;
}

.hero-line {
  width:120px; height:2px;
  background:linear-gradient(90deg, transparent, var(--gold), transparent);
  margin:24px auto;
  position:relative; z-index:2;
}

.scroll-indicator {
  position:absolute;
  bottom:40px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:8px;
  animation:scrollBounce 2s ease-in-out infinite;
  z-index:2;
}
.scroll-indicator span {
  font-size:0.75rem;
  color:var(--text-secondary);
  letter-spacing:0.2em;
  text-transform:uppercase;
}
.scroll-arrow {
  width:24px; height:24px;
  border-right:2px solid var(--gold);
  border-bottom:2px solid var(--gold);
  transform:rotate(45deg);
}
@keyframes scrollBounce {
  0%,100% { transform:translateX(-50%) translateY(0); }
  50% { transform:translateX(-50%) translateY(12px); }
}

/* Film reel decoration */
.film-strip {
  position:absolute;
  width:60px;
  height:100%;
  top:0;
  background:repeating-linear-gradient(
    180deg,
    transparent 0px,
    transparent 10px,
    rgba(245,197,24,0.08) 10px,
    rgba(245,197,24,0.08) 12px,
    transparent 12px,
    transparent 30px
  );
  z-index:1;
}
.film-strip.left { left:20px; }
.film-strip.right { right:20px; }

/* ===== SECTION 2: CURRENT KING ===== */
#current-king { perspective:1200px; }

.king-card {
  max-width:700px;
  margin:0 auto 40px;
  background:linear-gradient(135deg, rgba(245,197,24,0.1), rgba(20,20,35,0.8));
  border:2px solid rgba(245,197,24,0.3);
  border-radius:20px;
  padding:40px;
  text-align:center;
  position:relative;
  overflow:hidden;
  transform-style:preserve-3d;
  transition:transform 0.5s ease;
}
.king-card::before {
  content:'';
  position:absolute;
  top:-2px; left:-2px; right:-2px; bottom:-2px;
  background:linear-gradient(45deg, var(--gold), transparent, var(--gold), transparent);
  border-radius:22px;
  z-index:-1;
  animation:borderGlow 4s linear infinite;
  background-size:400% 400%;
}
@keyframes borderGlow {
  0% { background-position:0% 50%; }
  50% { background-position:100% 50%; }
  100% { background-position:0% 50%; }
}

.crown-icon {
  font-size:3.5rem;
  display:block;
  margin-bottom:8px;
  filter:drop-shadow(0 0 20px rgba(245,197,24,0.5));
  animation:crownPulse 2s ease-in-out infinite alternate;
}
@keyframes crownPulse {
  0% { transform:scale(1); filter:drop-shadow(0 0 20px rgba(245,197,24,0.5)); }
  100% { transform:scale(1.08); filter:drop-shadow(0 0 35px rgba(245,197,24,0.8)); }
}

.king-movie-name {
  font-family:'Bebas Neue', sans-serif;
  font-size:clamp(2rem, 4vw, 3rem);
  color:var(--gold);
  text-shadow:0 0 30px rgba(245,197,24,0.3);
}
.king-hero-name {
  font-family:'Oswald', sans-serif;
  font-size:1.4rem;
  color:#fff;
  margin:8px 0;
  font-weight:500;
}
.king-collection {
  font-family:'Bebas Neue', sans-serif;
  font-size:2.5rem;
  color:var(--gold);
  margin:12px 0;
}
.king-details {
  display:flex;
  justify-content:center;
  gap:30px;
  flex-wrap:wrap;
  margin-top:16px;
}
.king-detail {
  text-align:center;
}
.king-detail-label {
  font-size:0.75rem;
  color:var(--text-secondary);
  text-transform:uppercase;
  letter-spacing:0.1em;
}
.king-detail-value {
  font-family:'Oswald', sans-serif;
  font-size:1.2rem;
  color:#fff;
  margin-top:2px;
}

.champions-row {
  display:flex;
  justify-content:center;
  gap:24px;
  flex-wrap:wrap;
  max-width:900px;
  margin:0 auto;
}
.champion-card {
  flex:1;
  min-width:260px;
  max-width:380px;
}
.champion-card .glass-card {
  text-align:center;
  border:1px solid rgba(255,255,255,0.06);
}
.champion-year {
  font-family:'Oswald', sans-serif;
  font-size:0.85rem;
  color:var(--gold-dim);
  letter-spacing:0.15em;
  text-transform:uppercase;
}
.champion-movie {
  font-family:'Bebas Neue', sans-serif;
  font-size:1.6rem;
  color:#fff;
  margin:6px 0;
}
.champion-hero {
  color:var(--text-secondary);
  font-size:0.95rem;
}
.champion-collection {
  font-family:'Oswald', sans-serif;
  font-size:1.3rem;
  color:var(--gold);
  margin-top:8px;
}

/* ===== SECTION 3: TOP 10 LEADERBOARD ===== */
#leaderboard { perspective:1200px; }

.leaderboard-container {
  max-width:1000px;
  margin:0 auto;
  display:flex;
  flex-direction:column;
  gap:14px;
}
.lb-bar-wrapper {
  display:flex;
  align-items:center;
  gap:16px;
  transform-style:preserve-3d;
  transition:transform 0.4s ease;
}
.lb-bar-wrapper:hover {
  transform:perspective(800px) rotateY(-2deg) translateZ(15px);
}
.lb-rank {
  font-family:'Bebas Neue', sans-serif;
  font-size:2.2rem;
  color:var(--gold);
  width:50px;
  text-align:center;
  flex-shrink:0;
  text-shadow:0 0 20px rgba(245,197,24,0.3);
}
.lb-bar {
  flex:1;
  height:56px;
  border-radius:8px;
  display:flex;
  align-items:center;
  padding:0 20px;
  position:relative;
  overflow:hidden;
  transform-style:preserve-3d;
  transition:all 0.5s ease;
  min-width:0;
}
.lb-bar::after {
  content:'';
  position:absolute;
  top:0; left:0;
  width:100%; height:100%;
  background:linear-gradient(180deg, rgba(255,255,255,0.08) 0%, transparent 50%);
  border-radius:8px;
}
.lb-bar-info {
  display:flex;
  justify-content:space-between;
  align-items:center;
  width:100%;
  position:relative;
  z-index:1;
  min-width:0;
}
.lb-movie {
  font-family:'Oswald', sans-serif;
  font-size:clamp(0.75rem, 1.4vw, 1rem);
  color:#fff;
  font-weight:500;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  min-width:0;
  flex:1;
}
.lb-movie span {
  color:rgba(255,255,255,0.6);
  font-weight:300;
  margin-left:6px;
}
.lb-collection {
  font-family:'Bebas Neue', sans-serif;
  font-size:clamp(0.85rem, 1.5vw, 1.2rem);
  color:#fff;
  white-space:nowrap;
  margin-left:12px;
  flex-shrink:0;
}
.lb-year-tag {
  font-size:0.7rem;
  background:rgba(0,0,0,0.3);
  padding:2px 8px;
  border-radius:4px;
  margin-left:10px;
  flex-shrink:0;
  color:rgba(255,255,255,0.7);
}

/* ===== SECTION 4: YEAR-BY-YEAR TIMELINE ===== */
#timeline { perspective:1200px; padding-bottom:60px; }

.timeline-container {
  max-width:900px;
  margin:0 auto;
  position:relative;
}
.timeline-line {
  position:absolute;
  left:50%;
  top:0; bottom:0;
  width:3px;
  background:linear-gradient(180deg, var(--gold), var(--purple), var(--gold));
  transform:translateX(-50%);
  z-index:0;
}
@media(max-width:768px) {
  .timeline-line { left:24px; }
}

.timeline-item {
  position:relative;
  display:flex;
  align-items:flex-start;
  margin-bottom:50px;
  transform-style:preserve-3d;
}
.timeline-item:nth-child(odd) { flex-direction:row; }
.timeline-item:nth-child(even) { flex-direction:row-reverse; }

.timeline-dot {
  position:absolute;
  left:50%;
  top:20px;
  width:16px; height:16px;
  background:var(--gold);
  border:3px solid var(--bg);
  border-radius:50%;
  transform:translateX(-50%);
  z-index:2;
  box-shadow:0 0 15px rgba(245,197,24,0.5);
  transition:transform 0.3s ease, box-shadow 0.3s ease;
}
.timeline-item:hover .timeline-dot {
  transform:translateX(-50%) scale(1.4);
  box-shadow:0 0 25px rgba(245,197,24,0.8);
}
@media(max-width:768px) {
  .timeline-dot { left:24px; }
}

.timeline-content {
  width:calc(50% - 40px);
  transform-style:preserve-3d;
  transition:transform 0.4s ease;
}
.timeline-item:nth-child(odd) .timeline-content { margin-right:auto; padding-right:20px; }
.timeline-item:nth-child(even) .timeline-content { margin-left:auto; padding-left:20px; }
@media(max-width:768px) {
  .timeline-content { width:calc(100% - 60px); margin-left:auto !important; margin-right:0 !important; padding-left:20px !important; padding-right:0 !important; }
  .timeline-item:nth-child(odd), .timeline-item:nth-child(even) { flex-direction:row; }
}

.timeline-content:hover {
  transform:perspective(600px) rotateY(2deg) translateZ(8px);
}

.timeline-card {
  background:var(--bg-card);
  backdrop-filter:blur(12px);
  border:1px solid var(--glass-border);
  border-radius:14px;
  padding:22px;
  position:relative;
}
.timeline-card::before {
  content:'';
  position:absolute;
  top:0; left:0;
  width:100%; height:3px;
  border-radius:14px 14px 0 0;
}

.timeline-year {
  font-family:'Bebas Neue', sans-serif;
  font-size:2.8rem;
  line-height:1;
  margin-bottom:8px;
}
.timeline-top-label {
  font-size:0.7rem;
  text-transform:uppercase;
  letter-spacing:0.15em;
  color:var(--gold-dim);
  margin-bottom:4px;
}
.timeline-movie {
  font-family:'Oswald', sans-serif;
  font-size:1.25rem;
  color:#fff;
  font-weight:500;
}
.timeline-hero-name {
  font-size:0.95rem;
  font-weight:600;
  margin:2px 0;
}
.timeline-gross {
  font-family:'Bebas Neue', sans-serif;
  font-size:1.5rem;
  margin:6px 0;
}
.timeline-note {
  font-size:0.8rem;
  color:var(--text-secondary);
  margin-top:6px;
  line-height:1.5;
  font-style:italic;
}
.timeline-also {
  font-size:0.78rem;
  color:var(--text-secondary);
  margin-top:8px;
  line-height:1.6;
  border-top:1px solid rgba(255,255,255,0.05);
  padding-top:8px;
}
.timeline-also strong { color:rgba(255,255,255,0.7); font-weight:500; }

/* ===== SECTION 5: HERO POWER RANKINGS ===== */
#hero-rankings { perspective:1200px; }

.hero-grid {
  max-width:1200px;
  margin:0 auto;
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(260px, 1fr));
  gap:24px;
}

.hero-flip-card {
  height:340px;
  perspective:800px;
  cursor:pointer;
}
.hero-flip-inner {
  width:100%;
  height:100%;
  position:relative;
  transform-style:preserve-3d;
  transition:transform 0.7s cubic-bezier(.25,.46,.45,.94);
}
.hero-flip-card:hover .hero-flip-inner {
  transform:rotateY(180deg);
}
.hero-flip-front, .hero-flip-back {
  position:absolute;
  width:100%;
  height:100%;
  backface-visibility:hidden;
  border-radius:16px;
  padding:24px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}
.hero-flip-front {
  background:var(--bg-card);
  backdrop-filter:blur(12px);
  border:1px solid var(--glass-border);
}
.hero-flip-back {
  background:linear-gradient(135deg, rgba(20,20,35,0.9), rgba(40,20,60,0.9));
  backdrop-filter:blur(12px);
  border:1px solid var(--glass-border);
  transform:rotateY(180deg);
  justify-content:flex-start;
  padding-top:22px;
}

.hero-avatar {
  width:80px; height:80px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:'Bebas Neue', sans-serif;
  font-size:2rem;
  color:#fff;
  margin-bottom:14px;
  box-shadow:0 0 25px rgba(0,0,0,0.4);
  position:relative;
}
.hero-avatar::after {
  content:'';
  position:absolute;
  inset:-4px;
  border-radius:50%;
  border:2px solid rgba(255,255,255,0.15);
}

.hero-name-display {
  font-family:'Bebas Neue', sans-serif;
  font-size:1.7rem;
  color:#fff;
  text-align:center;
}
.hero-nickname {
  font-size:0.85rem;
  color:var(--text-secondary);
  font-style:italic;
  margin-top:4px;
}
.hero-hit-pct {
  font-family:'Oswald', sans-serif;
  font-size:2rem;
  margin-top:12px;
}
.hero-hit-label {
  font-size:0.7rem;
  color:var(--text-secondary);
  text-transform:uppercase;
  letter-spacing:0.1em;
}

.hero-back-name {
  font-family:'Bebas Neue', sans-serif;
  font-size:1.3rem;
  color:var(--gold);
  margin-bottom:12px;
  text-align:center;
}
.hero-stats-grid {
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
  width:100%;
}
.hero-stat {
  text-align:center;
  padding:8px;
  background:rgba(255,255,255,0.03);
  border-radius:8px;
}
.hero-stat-value {
  font-family:'Oswald', sans-serif;
  font-size:1.1rem;
  color:#fff;
}
.hero-stat-label {
  font-size:0.65rem;
  color:var(--text-secondary);
  text-transform:uppercase;
  letter-spacing:0.05em;
  margin-top:2px;
}
.hero-highest {
  margin-top:10px;
  text-align:center;
  font-size:0.78rem;
  color:var(--text-secondary);
  width:100%;
  padding:8px;
  background:rgba(245,197,24,0.05);
  border-radius:8px;
  border:1px solid rgba(245,197,24,0.1);
}
.hero-highest strong {
  color:var(--gold);
  font-family:'Oswald', sans-serif;
  font-size:0.95rem;
}

/* ===== SECTION 6: HERO DOMINANCE TIMELINE ===== */
#dominance { perspective:1200px; }

.dominance-grid {
  max-width:1100px;
  margin:0 auto;
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(140px, 1fr));
  gap:10px;
}
.dominance-cell {
  padding:14px 10px;
  border-radius:10px;
  text-align:center;
  transition:transform 0.3s ease, box-shadow 0.3s ease;
  cursor:default;
  position:relative;
  overflow:hidden;
}
.dominance-cell::before {
  content:'';
  position:absolute;
  top:0; left:0;
  width:100%; height:100%;
  background:linear-gradient(180deg, rgba(255,255,255,0.1) 0%, transparent 60%);
}
.dominance-cell:hover {
  transform:translateY(-4px) scale(1.05);
  box-shadow:0 8px 25px rgba(0,0,0,0.4);
}
.dominance-year {
  font-family:'Bebas Neue', sans-serif;
  font-size:1.6rem;
  color:#fff;
  position:relative;
}
.dominance-hero-name {
  font-size:0.72rem;
  color:rgba(255,255,255,0.85);
  margin-top:4px;
  font-weight:600;
  position:relative;
  line-height:1.3;
}

/* ===== SECTION 7: MILESTONES ===== */
#milestones { perspective:1200px; }

.milestones-container {
  max-width:900px;
  margin:0 auto;
  position:relative;
}
.milestone-line {
  position:absolute;
  left:30px; top:0; bottom:0;
  width:3px;
  background:linear-gradient(180deg, var(--gold), var(--purple), var(--red), var(--gold));
}
.milestone-item {
  display:flex;
  align-items:flex-start;
  gap:24px;
  margin-bottom:40px;
  padding-left:20px;
  position:relative;
  transition:transform 0.4s ease;
}
.milestone-item:hover { transform:translateX(8px); }

.milestone-marker {
  width:24px; height:24px;
  border-radius:50%;
  flex-shrink:0;
  position:relative;
  z-index:2;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 0 15px rgba(245,197,24,0.4);
}
.milestone-marker::after {
  content:'';
  width:10px; height:10px;
  border-radius:50%;
  background:#fff;
}
.milestone-body {
  flex:1;
}
.milestone-year-tag {
  font-family:'Bebas Neue', sans-serif;
  font-size:1.8rem;
  line-height:1;
}
.milestone-text {
  font-size:0.95rem;
  color:var(--text-secondary);
  margin-top:4px;
  line-height:1.6;
}
.milestone-text strong {
  color:#fff;
  font-weight:600;
}

/* ===== SECTION 8: BOX OFFICE GROWTH ===== */
#growth { perspective:1200px; }

.chart-container {
  max-width:1000px;
  margin:0 auto;
  position:relative;
}
#growthChart {
  width:100%;
  height:400px;
  display:block;
}

/* ===== SECTION 9: ERA ANALYSIS ===== */
#eras { perspective:1200px; }

.eras-container {
  max-width:1000px;
  margin:0 auto;
  display:flex;
  flex-direction:column;
  gap:28px;
}
.era-card {
  display:flex;
  align-items:stretch;
  border-radius:16px;
  overflow:hidden;
  background:var(--bg-card);
  backdrop-filter:blur(12px);
  border:1px solid var(--glass-border);
  transition:transform 0.4s ease, box-shadow 0.4s ease;
  transform-style:preserve-3d;
}
.era-card:hover {
  transform:perspective(800px) rotateY(-1.5deg) translateZ(10px);
  box-shadow:0 20px 50px rgba(0,0,0,0.3);
}
.era-period {
  width:160px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  padding:24px;
  flex-shrink:0;
}
.era-years {
  font-family:'Bebas Neue', sans-serif;
  font-size:1.5rem;
  color:#fff;
}
.era-body {
  flex:1;
  padding:24px;
}
.era-name {
  font-family:'Bebas Neue', sans-serif;
  font-size:1.6rem;
  margin-bottom:8px;
}
.era-desc {
  font-size:0.9rem;
  color:var(--text-secondary);
  line-height:1.7;
}
@media(max-width:600px) {
  .era-card { flex-direction:column; }
  .era-period { width:100%; padding:16px; }
}

/* ===== SECTION 10: FOOTER ===== */
#footer {
  min-height:auto;
  padding:60px 40px;
  text-align:center;
  border-top:1px solid rgba(255,255,255,0.05);
  background:linear-gradient(180deg, transparent, rgba(245,197,24,0.02));
}
.footer-title {
  font-family:'Bebas Neue', sans-serif;
  font-size:2rem;
  color:var(--gold);
  margin-bottom:8px;
}
.footer-sub {
  font-size:0.85rem;
  color:var(--text-secondary);
  margin-bottom:16px;
}
.footer-sources {
  font-size:0.75rem;
  color:rgba(255,255,255,0.3);
  max-width:600px;
  margin:0 auto;
  line-height:1.7;
}

/* ===== GOLD VERDICT / COLOR INDICATORS ===== */
.verdict-blockbuster { color:var(--gold); }
.verdict-hit { color:#22c55e; }
.verdict-avg { color:#f97316; }
.verdict-flop { color:var(--red); }

/* ===== CLICKABLE ELEMENTS ===== */
.clickable { cursor:pointer; }
.lb-bar-wrapper.clickable:active { transform:perspective(800px) rotateY(-1deg) translateZ(8px) scale(0.98); }
.timeline-card.clickable:hover { border-color:rgba(245,197,24,0.3); }
.dominance-cell.clickable:active { transform:translateY(-2px) scale(1.02); }
.king-card.clickable:hover { cursor:pointer; }

/* ===== MODAL OVERLAY ===== */
.modal-overlay {
  position:fixed;
  top:0; left:0;
  width:100vw; height:100vh;
  background:rgba(5,5,10,0.85);
  backdrop-filter:blur(12px);
  -webkit-backdrop-filter:blur(12px);
  z-index:10000;
  display:flex;
  align-items:center;
  justify-content:center;
  opacity:0;
  visibility:hidden;
  transition:opacity 0.4s ease, visibility 0.4s ease;
  padding:20px;
}
.modal-overlay.active {
  opacity:1;
  visibility:visible;
}

.modal-container {
  background:linear-gradient(160deg, rgba(18,18,35,0.95), rgba(12,8,24,0.98));
  border:1px solid rgba(245,197,24,0.15);
  border-radius:24px;
  max-width:680px;
  width:100%;
  max-height:85vh;
  overflow-y:auto;
  position:relative;
  transform:translateY(40px) scale(0.95);
  transition:transform 0.4s cubic-bezier(.25,.46,.45,.94);
  box-shadow:
    0 0 80px rgba(245,197,24,0.08),
    0 30px 60px rgba(0,0,0,0.5),
    inset 0 1px 0 rgba(255,255,255,0.06);
}
.modal-overlay.active .modal-container {
  transform:translateY(0) scale(1);
}

/* Modal scrollbar */
.modal-container::-webkit-scrollbar { width:4px; }
.modal-container::-webkit-scrollbar-track { background:transparent; }
.modal-container::-webkit-scrollbar-thumb { background:rgba(245,197,24,0.3); border-radius:2px; }

.modal-close {
  position:sticky;
  top:0;
  float:right;
  width:40px; height:40px;
  background:rgba(255,255,255,0.06);
  border:1px solid rgba(255,255,255,0.1);
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  z-index:10;
  margin:16px 16px 0 0;
  transition:all 0.3s ease;
  color:#aaa;
  font-size:1.2rem;
}
.modal-close:hover {
  background:rgba(245,197,24,0.15);
  border-color:rgba(245,197,24,0.3);
  color:var(--gold);
  transform:rotate(90deg);
}

.modal-header {
  padding:30px 32px 0;
  margin-top:-40px;
}
.modal-hero-badge {
  display:inline-block;
  padding:4px 14px;
  border-radius:20px;
  font-family:'DM Sans', sans-serif;
  font-size:0.75rem;
  font-weight:600;
  letter-spacing:0.1em;
  margin-bottom:10px;
}
.modal-title {
  font-family:'Bebas Neue', sans-serif;
  font-size:clamp(1.8rem, 4vw, 2.5rem);
  color:#fff;
  line-height:1.1;
  margin-bottom:6px;
}
.modal-subtitle {
  font-family:'Oswald', sans-serif;
  font-size:1rem;
  color:var(--text-secondary);
  font-weight:400;
}

.modal-body {
  padding:24px 32px 32px;
}

/* Modal stats grid */
.modal-stats {
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(130px, 1fr));
  gap:12px;
  margin-bottom:24px;
}
.modal-stat-card {
  background:rgba(255,255,255,0.03);
  border:1px solid rgba(255,255,255,0.06);
  border-radius:14px;
  padding:16px 14px;
  text-align:center;
  transition:border-color 0.3s ease;
}
.modal-stat-card:hover {
  border-color:rgba(245,197,24,0.2);
}
.modal-stat-value {
  font-family:'Bebas Neue', sans-serif;
  font-size:1.6rem;
  color:#fff;
  line-height:1.1;
}
.modal-stat-label {
  font-size:0.7rem;
  color:var(--text-secondary);
  text-transform:uppercase;
  letter-spacing:0.08em;
  margin-top:4px;
}

/* Verdict badge in modal */
.modal-verdict {
  display:inline-block;
  padding:6px 18px;
  border-radius:8px;
  font-family:'Oswald', sans-serif;
  font-size:1rem;
  font-weight:500;
  letter-spacing:0.05em;
  margin-bottom:20px;
}
.modal-verdict.blockbuster { background:rgba(245,197,24,0.15); color:var(--gold); border:1px solid rgba(245,197,24,0.25); }
.modal-verdict.hit { background:rgba(34,197,94,0.15); color:#22c55e; border:1px solid rgba(34,197,94,0.25); }
.modal-verdict.avg { background:rgba(249,115,22,0.15); color:#f97316; border:1px solid rgba(249,115,22,0.25); }
.modal-verdict.flop { background:rgba(220,38,38,0.15); color:#ef4444; border:1px solid rgba(220,38,38,0.25); }

/* Notes block */
.modal-notes {
  background:rgba(245,197,24,0.04);
  border-left:3px solid var(--gold-dim);
  border-radius:0 10px 10px 0;
  padding:14px 18px;
  margin-bottom:20px;
  font-size:0.9rem;
  color:var(--text-secondary);
  line-height:1.6;
}
.modal-notes strong { color:#fff; }

/* Hero modal filmography table */
.modal-filmography {
  width:100%;
  border-collapse:separate;
  border-spacing:0 4px;
  margin-top:16px;
}
.modal-filmography th {
  text-align:left;
  font-family:'DM Sans', sans-serif;
  font-size:0.7rem;
  text-transform:uppercase;
  letter-spacing:0.1em;
  color:var(--gold-dim);
  padding:0 10px 8px;
  border-bottom:1px solid rgba(255,255,255,0.06);
}
.modal-filmography td {
  padding:8px 10px;
  font-size:0.85rem;
  color:var(--text-secondary);
  background:rgba(255,255,255,0.02);
}
.modal-filmography tr:first-child td:first-child { border-radius:8px 0 0 8px; }
.modal-filmography tr:first-child td:last-child { border-radius:0 8px 8px 0; }
.modal-filmography tr td:first-child { border-radius:8px 0 0 8px; }
.modal-filmography tr td:last-child { border-radius:0 8px 8px 0; }
.modal-filmography .film-title { color:#fff; font-weight:500; }
.modal-filmography .verdict-cell { font-weight:600; }

/* Hero modal career bar */
.career-bar-container {
  margin:16px 0;
}
.career-bar-label {
  display:flex;
  justify-content:space-between;
  font-size:0.75rem;
  color:var(--text-secondary);
  margin-bottom:6px;
}
.career-bar {
  height:8px;
  background:rgba(255,255,255,0.06);
  border-radius:4px;
  overflow:hidden;
}
.career-bar-fill {
  height:100%;
  border-radius:4px;
  transition:width 0.8s cubic-bezier(.25,.46,.45,.94);
}

/* Section label in modal */
.modal-section-label {
  font-family:'Oswald', sans-serif;
  font-size:0.8rem;
  text-transform:uppercase;
  letter-spacing:0.12em;
  color:var(--gold-dim);
  margin:20px 0 10px;
  padding-bottom:6px;
  border-bottom:1px solid rgba(255,255,255,0.06);
}

@media(max-width:600px) {
  .modal-container { border-radius:18px; max-height:90vh; }
  .modal-header { padding:24px 20px 0; }
  .modal-body { padding:18px 20px 24px; }
  .modal-stats { grid-template-columns:repeat(2, 1fr); }
  .modal-filmography { font-size:0.75rem; }
  .modal-filmography th, .modal-filmography td { padding:6px 6px; }
}

/* ===== ADDITIONAL MOBILE RESPONSIVENESS ===== */
@media(max-width:480px) {
  .section { padding:40px 12px; }
  .section-title { font-size:2rem; }
  .section-subtitle { font-size:0.9rem; margin-bottom:30px; }
  .king-card { padding:24px 16px; }
  .king-movie-name { font-size:1.5rem; }
  .king-collection { font-size:1.8rem; }
  .king-details { gap:16px; }
  .king-detail-value { font-size:0.85rem; }
  .lb-bar { height:48px; padding:0 10px; }
  .lb-rank { font-size:1.6rem; width:36px; }
  .lb-movie { font-size:0.7rem; }
  .lb-collection { font-size:0.8rem; }
  .lb-year-tag { display:none; }
  .hero-grid { grid-template-columns:repeat(auto-fill, minmax(200px, 1fr)); gap:16px; }
  .hero-flip-card { height:300px; }
  .dominance-grid { grid-template-columns:repeat(auto-fill, minmax(100px, 1fr)); gap:6px; }
  .dominance-cell { padding:10px 6px; }
  .dominance-year { font-size:1.2rem; }
  .era-card { flex-direction:column; }
  .era-period { width:100%; padding:14px; }
  .era-body { padding:16px; }
  .milestone-item { padding-left:10px; gap:14px; }
  .hero-title { font-size:3.5rem; }
  .champion-card { min-width:100%; }
  .champions-row { gap:12px; }
}

/* ===== LOADING SCREEN ===== */
#loader {
  position:fixed;
  top:0; left:0;
  width:100vw; height:100vh;
  background:#0a0a0f;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  z-index:9999;
  transition:opacity 0.6s ease, visibility 0.6s ease;
}
#loader.hidden { opacity:0; visibility:hidden; }
.loader-text {
  font-family:'Bebas Neue', sans-serif;
  font-size:2rem;
  color:var(--gold);
  letter-spacing:0.2em;
  animation:loaderPulse 1.5s ease-in-out infinite;
}
@keyframes loaderPulse {
  0%, 100% { opacity:0.4; }
  50% { opacity:1; }
}
.loader-bar-track {
  width:200px; height:3px;
  background:rgba(255,255,255,0.1);
  border-radius:2px;
  margin-top:16px;
  overflow:hidden;
}
.loader-bar {
  width:0%;
  height:100%;
  background:var(--gold);
  border-radius:2px;
  animation:loaderFill 1.5s ease forwards;
}
@keyframes loaderFill {
  0% { width:0%; }
  100% { width:100%; }
}
@media(prefers-reduced-motion: reduce) {
  #loader { display:none; }
}

/* ===== FLOATING NAV ===== */
.floating-nav {
  position:fixed;
  top:20px;
  left:50%;
  transform:translateX(-50%) translateY(-80px);
  z-index:100;
  display:flex;
  gap:4px;
  background:rgba(10,10,15,0.85);
  backdrop-filter:blur(16px);
  -webkit-backdrop-filter:blur(16px);
  border:1px solid rgba(255,255,255,0.08);
  border-radius:40px;
  padding:6px 10px;
  transition:transform 0.5s cubic-bezier(.25,.46,.45,.94);
}
.floating-nav.visible {
  transform:translateX(-50%) translateY(0);
}
.floating-nav a {
  color:var(--text-secondary);
  text-decoration:none;
  font-size:0.7rem;
  font-family:'DM Sans', sans-serif;
  font-weight:500;
  padding:6px 12px;
  border-radius:20px;
  transition:all 0.3s ease;
  letter-spacing:0.05em;
  white-space:nowrap;
}
.floating-nav a:hover, .floating-nav a.active {
  color:var(--gold);
  background:rgba(245,197,24,0.1);
}
@media(max-width:900px) {
  .floating-nav { display:none; }
}

/* ===== HERO VS HERO COMPARISON ===== */
#compare { perspective:1200px; }

.compare-selectors {
  display:flex;
  align-items:center;
  justify-content:center;
  gap:20px;
  flex-wrap:wrap;
  margin-bottom:36px;
}
.compare-select {
  background:rgba(20,20,35,0.8);
  border:1px solid rgba(245,197,24,0.3);
  border-radius:12px;
  color:#fff;
  font-family:'Oswald',sans-serif;
  font-size:1rem;
  padding:12px 18px;
  cursor:pointer;
  outline:none;
  backdrop-filter:blur(12px);
  min-width:200px;
  transition:border-color 0.3s ease, box-shadow 0.3s ease;
  appearance:none;
  -webkit-appearance:none;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%23f5c518' stroke-width='1.5' fill='none' stroke-linecap='round'/%3E%3C/svg%3E");
  background-repeat:no-repeat;
  background-position:right 14px center;
  padding-right:40px;
}
.compare-select:hover, .compare-select:focus {
  border-color:rgba(245,197,24,0.7);
  box-shadow:0 0 20px rgba(245,197,24,0.15);
}
.compare-select option {
  background:#0a0a0f;
  color:#fff;
}
.compare-vs-badge {
  font-family:'Bebas Neue',sans-serif;
  font-size:2rem;
  color:var(--gold);
  text-shadow:0 0 20px rgba(245,197,24,0.4);
  flex-shrink:0;
}
.compare-btn {
  background:linear-gradient(135deg, rgba(245,197,24,0.15), rgba(245,197,24,0.08));
  border:1px solid rgba(245,197,24,0.4);
  color:var(--gold);
  font-family:'Bebas Neue',sans-serif;
  font-size:1.2rem;
  letter-spacing:0.1em;
  padding:12px 32px;
  border-radius:12px;
  cursor:pointer;
  transition:all 0.3s ease;
  backdrop-filter:blur(12px);
}
.compare-btn:hover {
  background:linear-gradient(135deg, rgba(245,197,24,0.25), rgba(245,197,24,0.12));
  border-color:rgba(245,197,24,0.7);
  box-shadow:0 0 25px rgba(245,197,24,0.2);
  transform:translateY(-2px);
}

.compare-result {
  max-width:960px;
  margin:0 auto;
  display:none;
}
.compare-result.visible { display:block; }

.compare-header-row {
  display:grid;
  grid-template-columns:1fr auto 1fr;
  gap:20px;
  align-items:center;
  margin-bottom:28px;
}
.compare-hero-header {
  text-align:center;
  padding:24px;
  background:var(--bg-card);
  backdrop-filter:blur(12px);
  border-radius:16px;
  border:1px solid var(--glass-border);
}
.compare-hero-photo {
  width:80px;height:80px;
  border-radius:50%;
  overflow:hidden;
  margin:0 auto 12px;
  border:3px solid var(--gold);
  box-shadow:0 0 25px rgba(245,197,24,0.2);
}
.compare-hero-photo img {
  width:100%;height:100%;object-fit:cover;
}
.compare-hero-name {
  font-family:'Bebas Neue',sans-serif;
  font-size:1.5rem;
  color:#fff;
}
.compare-hero-nick {
  font-size:0.8rem;
  color:var(--text-secondary);
  font-style:italic;
  margin-top:4px;
}
.compare-vs-center {
  font-family:'Bebas Neue',sans-serif;
  font-size:3rem;
  color:var(--gold);
  text-align:center;
  text-shadow:0 0 30px rgba(245,197,24,0.4);
}

.compare-stats-container {
  display:flex;
  flex-direction:column;
  gap:14px;
  margin-bottom:28px;
}
.compare-stat-row {
  display:grid;
  grid-template-columns:1fr 120px 1fr;
  gap:12px;
  align-items:center;
  background:var(--bg-card);
  backdrop-filter:blur(12px);
  border:1px solid var(--glass-border);
  border-radius:12px;
  padding:14px 18px;
}
.compare-stat-label {
  grid-column:2;
  text-align:center;
  font-size:0.7rem;
  text-transform:uppercase;
  letter-spacing:0.1em;
  color:var(--gold-dim);
  font-family:'DM Sans',sans-serif;
}
.compare-stat-left, .compare-stat-right {
  display:flex;
  flex-direction:column;
  gap:6px;
}
.compare-stat-left { align-items:flex-end; }
.compare-stat-right { align-items:flex-start; }
.compare-stat-value {
  font-family:'Oswald',sans-serif;
  font-size:1rem;
  color:#fff;
}
.compare-bar-track {
  width:100%;
  height:6px;
  background:rgba(255,255,255,0.06);
  border-radius:3px;
  overflow:hidden;
  max-width:200px;
}
.compare-bar-fill {
  height:100%;
  border-radius:3px;
  transition:width 0.8s cubic-bezier(.25,.46,.45,.94);
}
.compare-stat-left .compare-bar-track { margin-left:auto; }

.compare-films-section {
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:20px;
}
.compare-films-col {
  background:var(--bg-card);
  backdrop-filter:blur(12px);
  border:1px solid var(--glass-border);
  border-radius:14px;
  padding:20px;
}
.compare-films-title {
  font-family:'Bebas Neue',sans-serif;
  font-size:1.1rem;
  margin-bottom:12px;
  padding-bottom:8px;
  border-bottom:1px solid rgba(255,255,255,0.06);
}

@media(max-width:700px) {
  .compare-header-row { grid-template-columns:1fr; }
  .compare-vs-center { display:none; }
  .compare-stat-row { grid-template-columns:1fr; gap:4px; }
  .compare-stat-label { order:-1; }
  .compare-stat-left, .compare-stat-right { align-items:flex-start; }
  .compare-films-section { grid-template-columns:1fr; }
  .compare-bar-track { max-width:100%; }
}

/* ===== FLOATING SEARCH ===== */
#searchFab {
  position:fixed;
  bottom:32px;
  right:32px;
  width:52px;height:52px;
  border-radius:50%;
  background:linear-gradient(135deg, rgba(245,197,24,0.25), rgba(245,197,24,0.1));
  border:1.5px solid rgba(245,197,24,0.5);
  color:var(--gold);
  font-size:1.3rem;
  cursor:pointer;
  z-index:500;
  display:flex;
  align-items:center;
  justify-content:center;
  backdrop-filter:blur(12px);
  -webkit-backdrop-filter:blur(12px);
  transition:all 0.3s ease;
  box-shadow:0 4px 20px rgba(245,197,24,0.15);
}
#searchFab:hover {
  background:linear-gradient(135deg, rgba(245,197,24,0.35), rgba(245,197,24,0.15));
  border-color:rgba(245,197,24,0.8);
  box-shadow:0 6px 30px rgba(245,197,24,0.3);
  transform:scale(1.08);
}
#searchFab .fab-shortcut {
  position:absolute;
  bottom:-22px;
  font-family:'DM Sans',sans-serif;
  font-size:0.58rem;
  color:rgba(255,255,255,0.35);
  white-space:nowrap;
  letter-spacing:0.05em;
}

#searchOverlay {
  position:fixed;
  top:0;left:0;
  width:100vw;height:100vh;
  background:rgba(5,5,10,0.8);
  backdrop-filter:blur(18px);
  -webkit-backdrop-filter:blur(18px);
  z-index:9000;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding-top:clamp(60px,12vh,140px);
  opacity:0;
  visibility:hidden;
  transition:opacity 0.3s ease, visibility 0.3s ease;
}
#searchOverlay.active {
  opacity:1;
  visibility:visible;
}

.search-box-wrap {
  width:100%;
  max-width:640px;
  padding:0 20px;
  position:relative;
}
.search-input-row {
  display:flex;
  align-items:center;
  gap:0;
  background:rgba(20,20,35,0.9);
  border:1.5px solid rgba(245,197,24,0.4);
  border-radius:16px;
  overflow:hidden;
  box-shadow:0 0 40px rgba(245,197,24,0.12), 0 20px 60px rgba(0,0,0,0.5);
  transition:border-color 0.3s ease, box-shadow 0.3s ease;
}
.search-input-row:focus-within {
  border-color:rgba(245,197,24,0.8);
  box-shadow:0 0 50px rgba(245,197,24,0.2), 0 20px 60px rgba(0,0,0,0.5);
}
.search-icon-inner {
  padding:0 16px;
  color:var(--gold-dim);
  font-size:1.1rem;
  flex-shrink:0;
}
#searchInput {
  flex:1;
  background:transparent;
  border:none;
  outline:none;
  color:#fff;
  font-family:'DM Sans',sans-serif;
  font-size:1.1rem;
  padding:18px 0;
  caret-color:var(--gold);
}
#searchInput::placeholder { color:rgba(255,255,255,0.3); }
.search-close-btn {
  padding:0 18px;
  color:rgba(255,255,255,0.4);
  font-size:1.4rem;
  cursor:pointer;
  flex-shrink:0;
  transition:color 0.2s ease;
  line-height:1;
  background:transparent;
  border:none;
}
.search-close-btn:hover { color:var(--gold); }

.search-hint {
  text-align:center;
  font-size:0.75rem;
  color:rgba(255,255,255,0.25);
  margin-top:12px;
  font-family:'DM Sans',sans-serif;
  letter-spacing:0.05em;
}

#searchResults {
  width:100%;
  max-width:640px;
  margin-top:16px;
  padding:0 20px;
  max-height:50vh;
  overflow-y:auto;
}
#searchResults::-webkit-scrollbar { width:4px; }
#searchResults::-webkit-scrollbar-track { background:transparent; }
#searchResults::-webkit-scrollbar-thumb { background:rgba(245,197,24,0.3); border-radius:2px; }

.search-results-group-label {
  font-size:0.65rem;
  text-transform:uppercase;
  letter-spacing:0.15em;
  color:var(--gold-dim);
  padding:8px 4px 4px;
  font-family:'DM Sans',sans-serif;
}
.search-result-item {
  display:flex;
  align-items:center;
  gap:14px;
  padding:12px 16px;
  border-radius:12px;
  cursor:pointer;
  transition:background 0.2s ease;
  margin-bottom:4px;
  background:rgba(20,20,35,0.7);
  border:1px solid rgba(255,255,255,0.04);
}
.search-result-item:hover {
  background:rgba(245,197,24,0.08);
  border-color:rgba(245,197,24,0.15);
}
.search-result-photo {
  width:40px;height:40px;
  border-radius:50%;
  overflow:hidden;
  flex-shrink:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:'Bebas Neue',sans-serif;
  font-size:0.9rem;
  color:#fff;
}
.search-result-photo img { width:100%;height:100%;object-fit:cover; }
.search-result-icon {
  width:40px;height:40px;
  border-radius:10px;
  flex-shrink:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:1.1rem;
  background:rgba(255,255,255,0.05);
}
.search-result-title {
  font-family:'Oswald',sans-serif;
  font-size:0.95rem;
  color:#fff;
}
.search-result-sub {
  font-size:0.75rem;
  color:var(--text-secondary);
  margin-top:2px;
}
.search-no-results {
  text-align:center;
  padding:40px 0;
  color:rgba(255,255,255,0.3);
  font-family:'DM Sans',sans-serif;
  font-size:0.9rem;
}
</style>
</head>
<body>

<!-- LOADING SCREEN -->
<div id="loader">
  <div class="loader-text">TOLLYWOOD CHRONICLES</div>
  <div class="loader-bar-track"><div class="loader-bar"></div></div>
</div>

<!-- BACKGROUND CANVAS -->
<canvas id="bg-canvas"></canvas>

<!-- FLOATING NAV -->
<nav class="floating-nav" id="floatingNav">
  <a href="#current-king">KING</a>
  <a href="#leaderboard">TOP 10</a>
  <a href="#timeline">TIMELINE</a>
  <a href="#hero-rankings">HEROES</a>
  <a href="#compare">VS</a>
  <a href="#dominance">DOMINANCE</a>
  <a href="#milestones">MILESTONES</a>
  <a href="#growth">GROWTH</a>
  <a href="#eras">ERAS</a>
</nav>

<!-- SECTION 1: HERO LANDING -->
<section id="hero" class="section">
  <div class="film-strip left"></div>
  <div class="film-strip right"></div>
  <div class="hero-title">TOLLYWOOD<br>CHRONICLES</div>
  <div class="hero-line"></div>
  <div class="hero-subtitle">26 YEARS OF TELUGU CINEMA BOX OFFICE &bull; 2000 &ndash; 2026</div>
  <div class="scroll-indicator">
    <span>Scroll to explore</span>
    <div class="scroll-arrow"></div>
  </div>
</section>

<!-- SECTION 2: CURRENT KING -->
<section id="current-king" class="section">
  <h2 class="section-title reveal">CURRENT KING</h2>
  <p class="section-subtitle reveal">The hero on top right now â€” 2026</p>
  <div class="king-card reveal" id="kingCard">
    <div class="crown-icon">ðŸ‘‘</div>
    <div class="king-hero-name">CHIRANJEEVI &bull; MEGASTAR</div>
    <div class="king-movie-name">MANA SHANKARA VARA PRASAD GARU</div>
    <div class="king-collection">â‚¹303 CRORES WW</div>
    <div class="king-details">
      <div class="king-detail">
        <div class="king-detail-label">Budget</div>
        <div class="king-detail-value" style="font-size:0.95rem">â‚¹28 Cr (prod) / ~â‚¹200 Cr (total)</div>
      </div>
      <div class="king-detail">
        <div class="king-detail-label">Verdict</div>
        <div class="king-detail-value verdict-blockbuster">BLOCKBUSTER</div>
      </div>
      <div class="king-detail">
        <div class="king-detail-label">Year</div>
        <div class="king-detail-value">2026</div>
      </div>
    </div>
  </div>

  <h3 style="text-align:center;font-family:'Oswald',sans-serif;color:var(--text-secondary);font-size:0.9rem;letter-spacing:0.15em;margin-bottom:20px;" class="reveal">2025 CHAMPIONS</h3>
  <div class="champions-row reveal">
    <div class="champion-card">
      <div class="glass-card">
        <div class="champion-year">2025 &bull; #1</div>
        <div class="champion-movie">Sankranthiki Vasthunam</div>
        <div class="champion-hero">Venkatesh &bull; Victory V</div>
        <div class="champion-collection">â‚¹257 Cr WW</div>
      </div>
    </div>
    <div class="champion-card">
      <div class="glass-card">
        <div class="champion-year">2025 &bull; #2</div>
        <div class="champion-movie">They Call Him OG</div>
        <div class="champion-hero">Pawan Kalyan &bull; Power Star</div>
        <div class="champion-collection">â‚¹294 Cr WW</div>
      </div>
    </div>
  </div>
</section>

<!-- SECTION 3: TOP 10 LEADERBOARD -->
<section id="leaderboard" class="section">
  <h2 class="section-title reveal">ALL-TIME TOP 10</h2>
  <p class="section-subtitle reveal">The highest-grossing Telugu films ever made</p>
  <div class="leaderboard-container" id="leaderboardContainer">
    <!-- JS will populate -->
  </div>
</section>

<!-- SECTION 4: TIMELINE -->
<section id="timeline" class="section">
  <h2 class="section-title reveal">YEAR BY YEAR</h2>
  <p class="section-subtitle reveal">Every year's top grosser &mdash; the complete Tollywood chronicle</p>
  <div class="timeline-container" id="timelineContainer">
    <div class="timeline-line"></div>
    <!-- JS will populate -->
  </div>
</section>

<!-- SECTION 5: HERO POWER RANKINGS -->
<section id="hero-rankings" class="section">
  <h2 class="section-title reveal">HERO POWER RANKINGS</h2>
  <p class="section-subtitle reveal">Hover to flip, click for full details &mdash; career stats for every major hero</p>
  <div class="hero-grid" id="heroGrid">
    <!-- JS will populate -->
  </div>
</section>

<!-- SECTION 6: HERO VS HERO COMPARISON -->
<section id="compare" class="section">
  <h2 class="section-title reveal">HERO VS HERO</h2>
  <p class="section-subtitle reveal">Compare any two heroes side by side</p>
  <div class="compare-selectors reveal">
    <select class="compare-select" id="compareSelectA">
      <option value="">Choose Hero 1...</option>
    </select>
    <div class="compare-vs-badge">VS</div>
    <select class="compare-select" id="compareSelectB">
      <option value="">Choose Hero 2...</option>
    </select>
    <button class="compare-btn" id="compareBtn">COMPARE</button>
  </div>
  <div class="compare-result" id="compareResult">
    <!-- JS will populate -->
  </div>
</section>

<!-- SECTION 7: HERO DOMINANCE TIMELINE -->
<section id="dominance" class="section">
  <h2 class="section-title reveal">WHO WAS #1 EACH YEAR?</h2>
  <p class="section-subtitle reveal">The dominant hero at the box office, year by year</p>
  <div class="dominance-grid" id="dominanceGrid">
    <!-- JS will populate -->
  </div>
</section>

<!-- SECTION 7: MILESTONES -->
<section id="milestones" class="section">
  <h2 class="section-title reveal">INDUSTRY MILESTONES</h2>
  <p class="section-subtitle reveal">The moments that changed Telugu cinema forever</p>
  <div class="milestones-container" id="milestonesContainer">
    <div class="milestone-line"></div>
    <!-- JS will populate -->
  </div>
</section>

<!-- SECTION 8: BOX OFFICE GROWTH -->
<section id="growth" class="section">
  <h2 class="section-title reveal">BOX OFFICE EXPLOSION</h2>
  <p class="section-subtitle reveal">How the highest-grossing Telugu film grew year by year</p>
  <div class="chart-container reveal">
    <canvas id="growthChart"></canvas>
  </div>
</section>

<!-- SECTION 9: ERA ANALYSIS -->
<section id="eras" class="section">
  <h2 class="section-title reveal">THE FIVE ERAS</h2>
  <p class="section-subtitle reveal">Tollywood's evolution in five defining chapters</p>
  <div class="eras-container" id="erasContainer">
    <!-- JS will populate -->
  </div>
</section>

<!-- SECTION 10: FOOTER -->
<!-- MODAL OVERLAY -->
<div class="modal-overlay" id="modalOverlay">
  <div class="modal-container" id="modalContainer">
    <div class="modal-close" id="modalClose">&times;</div>
    <div class="modal-header" id="modalHeader"></div>
    <div class="modal-body" id="modalBody"></div>
  </div>
</div>

<section id="footer">
  <div class="footer-title">TOLLYWOOD CHRONICLES</div>
  <div class="footer-sub">An Interactive Dashboard of Telugu Cinema Box Office (2000&ndash;2026)</div>
  <div class="footer-sources">Data compiled from Box Office India, Sacnilk, Wikipedia, Box Office Andhra, Koimoi.<br>This dashboard is for informational and entertainment purposes. Collections are approximate worldwide gross figures.</div>
  <div style="margin-top:20px;font-size:0.8rem;color:rgba(255,255,255,0.35);">Built by <a href="https://jithendranara.dev" target="_blank" rel="noopener noreferrer" style="color:var(--gold-dim);text-decoration:none;border-bottom:1px solid rgba(245,197,24,0.3);">Jithendra Nara</a> &bull; <a href="https://github.com/JithendraNara/tollywood-chronicles" target="_blank" rel="noopener noreferrer" style="color:var(--gold-dim);text-decoration:none;border-bottom:1px solid rgba(245,197,24,0.3);">GitHub</a></div>
</section>

<script>
// ===== DATA =====
const top10 = [
  { rank:1, movie:"Baahubali 2: The Conclusion", hero:"Prabhas", year:2017, collection:1810, color:"#059669" },
  { rank:2, movie:"Pushpa 2: The Rule", hero:"Allu Arjun", year:2024, collection:1785, color:"#D97706" },
  { rank:3, movie:"RRR", hero:"NTR & Ram Charan", year:2022, collection:1387, color:"#7C3AED" },
  { rank:4, movie:"Kalki 2898 AD", hero:"Prabhas", year:2024, collection:1100, color:"#059669" },
  { rank:5, movie:"Salaar", hero:"Prabhas", year:2023, collection:702, color:"#059669" },
  { rank:6, movie:"Baahubali: The Beginning", hero:"Prabhas", year:2015, collection:650, color:"#059669" },
  { rank:7, movie:"Devara", hero:"Jr NTR", year:2024, collection:521, color:"#7C3AED" },
  { rank:8, movie:"Saaho", hero:"Prabhas", year:2019, collection:439, color:"#059669" },
  { rank:9, movie:"Pushpa: The Rise", hero:"Allu Arjun", year:2021, collection:393, color:"#D97706" },
  { rank:10, movie:"Hanu-Man", hero:"Teja Sajja", year:2024, collection:350, color:"#6B7280" }
];

const timelineData = [
  { year:2000, movie:"Nuvve Kavali", hero:"Tarun Kumar", collection:"â‚¹35.6 Cr", heroColor:"var(--hero-others)", note:"Dominant: Chiranjeevi/Venkatesh era", also:"" },
  { year:2001, movie:"Narasimha Naidu", hero:"Balakrishna", collection:"â‚¹35 Cr", heroColor:"var(--hero-balak)", note:"", also:"Kushi (Pawan Kalyan), Murari (Mahesh Babu)" },
  { year:2002, movie:"Indra", hero:"Chiranjeevi", collection:"â‚¹51 Cr", heroColor:"var(--hero-chiru)", note:"Chiranjeevi era peak", also:"" },
  { year:2003, movie:"Simhadri", hero:"Jr NTR", collection:"â‚¹55 Cr", heroColor:"var(--hero-ntr)", note:"", also:"Tagore (Chiranjeevi â‚¹51 Cr)" },
  { year:2004, movie:"Shankar Dada MBBS", hero:"Chiranjeevi", collection:"â‚¹50.8 Cr", heroColor:"var(--hero-chiru)", note:"", also:"Arya (Allu Arjun debut year)" },
  { year:2005, movie:"Andarivaadu", hero:"Chiranjeevi", collection:"â‚¹36 Cr", heroColor:"var(--hero-chiru)", note:"", also:"Chatrapathi (Prabhas), Athadu (Mahesh Babu)" },
  { year:2006, movie:"Pokiri", hero:"Mahesh Babu", collection:"â‚¹63 Cr", heroColor:"var(--hero-mahesh)", note:"GAME CHANGER YEAR â€” Mahesh takes over", also:"Vikramarkudu (Ravi Teja)" },
  { year:2007, movie:"Yamadonga", hero:"Jr NTR", collection:"â‚¹50 Cr", heroColor:"var(--hero-ntr)", note:"", also:"Chirutha (Ram Charan debut)" },
  { year:2008, movie:"Jalsa", hero:"Pawan Kalyan", collection:"â‚¹44 Cr", heroColor:"var(--hero-pawan)", note:"", also:"King (Nagarjuna)" },
  { year:2009, movie:"Magadheera", hero:"Ram Charan", collection:"â‚¹150 Cr", heroColor:"var(--hero-charan)", note:"HISTORIC â€” First Telugu â‚¹100 Cr+ film", also:"" },
  { year:2010, movie:"Simha", hero:"Balakrishna", collection:"â‚¹60 Cr", heroColor:"var(--hero-balak)", note:"", also:"Khaleja (Mahesh Babu), Darling (Prabhas)" },
  { year:2011, movie:"Dookudu", hero:"Mahesh Babu", collection:"â‚¹112 Cr", heroColor:"var(--hero-mahesh)", note:"Mahesh era dominance", also:"" },
  { year:2012, movie:"Gabbar Singh", hero:"Pawan Kalyan", collection:"â‚¹150 Cr", heroColor:"var(--hero-pawan)", note:"", also:"Eega (Nani/Rajamouli), Businessman (Mahesh)" },
  { year:2013, movie:"Attarintiki Daredi", hero:"Pawan Kalyan", collection:"â‚¹187 Cr", heroColor:"var(--hero-pawan)", note:"All-Time Industry Hit at time", also:"Mirchi (Prabhas)" },
  { year:2014, movie:"Race Gurram", hero:"Allu Arjun", collection:"â‚¹110 Cr", heroColor:"var(--hero-allu)", note:"Allu Arjun arrives as top star", also:"Legend (Balakrishna), Manam (Nagarjuna)" },
  { year:2015, movie:"Baahubali: The Beginning", hero:"Prabhas", collection:"â‚¹650 Cr", heroColor:"var(--hero-prabhas)", note:"CHANGED EVERYTHING", also:"Srimanthudu (Mahesh â‚¹200 Cr)" },
  { year:2016, movie:"Janatha Garage", hero:"Jr NTR", collection:"â‚¹134.8 Cr", heroColor:"var(--hero-ntr)", note:"", also:"Sarrainodu (Allu Arjun â‚¹127 Cr)" },
  { year:2017, movie:"Baahubali 2: The Conclusion", hero:"Prabhas", collection:"â‚¹1,810 Cr", heroColor:"var(--hero-prabhas)", note:"ALL-TIME RECORD", also:"Khaidi 150 (Chiranjeevi comeback), Jai Lava Kusa (NTR)" },
  { year:2018, movie:"Bharat Ane Nenu", hero:"Mahesh Babu", collection:"â‚¹225 Cr", heroColor:"var(--hero-mahesh)", note:"", also:"Rangasthalam (Ram Charan â‚¹220 Cr), Geetha Govindam (VD â‚¹132 Cr)" },
  { year:2019, movie:"Saaho", hero:"Prabhas", collection:"â‚¹435 Cr", heroColor:"var(--hero-prabhas)", note:"", also:"Maharshi (Mahesh â‚¹200 Cr), F2 (Venkatesh â‚¹140 Cr)" },
  { year:2020, movie:"Ala Vaikunthapurramuloo", hero:"Allu Arjun", collection:"â‚¹280 Cr", heroColor:"var(--hero-allu)", note:"vs Sarileru Neekevvaru (Mahesh â‚¹260 Cr) â€” EPIC CLASH", also:"" },
  { year:2021, movie:"Pushpa: The Rise", hero:"Allu Arjun", collection:"â‚¹393 Cr", heroColor:"var(--hero-allu)", note:"National Award winner", also:"Akhanda (Balakrishna)" },
  { year:2022, movie:"RRR", hero:"NTR & Ram Charan", collection:"â‚¹1,387 Cr", heroColor:"var(--hero-ntr)", note:"OSCAR WINNER â€” Naatu Naatu", also:"Sarkaru Vaari Paata (Mahesh â‚¹230 Cr)" },
  { year:2023, movie:"Salaar", hero:"Prabhas", collection:"â‚¹702 Cr", heroColor:"var(--hero-prabhas)", note:"", also:"Waltair Veerayya (Chiranjeevi â‚¹236 Cr), Dasara (Nani â‚¹121 Cr)" },
  { year:2024, movie:"Pushpa 2: The Rule", hero:"Allu Arjun", collection:"â‚¹1,785 Cr", heroColor:"var(--hero-allu)", note:"MASSIVE", also:"Kalki 2898 AD (Prabhas â‚¹1,100 Cr), Devara (NTR â‚¹521 Cr)" },
  { year:2025, movie:"Sankranthiki Vasthunam", hero:"Venkatesh", collection:"â‚¹257 Cr", heroColor:"var(--hero-venky)", note:"Budget â‚¹50 Cr â€” Super Hit (274% ROI)", also:"OG (Pawan â‚¹294 Cr WW), Game Changer (Ram Charan â€” Disaster at â‚¹400 Cr budget)" },
  { year:2026, movie:"Mana Shankara Vara Prasad Garu", hero:"Chiranjeevi", collection:"â‚¹303 Cr", heroColor:"var(--hero-chiru)", note:"Production cost â‚¹28 Cr, total budget ~â‚¹200 Cr", also:"The RajaSaab (Prabhas â‚¹207 Cr â€” Flop on â‚¹400 Cr budget)" }
];

const heroesData = [
  { name:"Chiranjeevi", nick:"Megastar", initials:"CH", color:"#FF6B00", img:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/04/Chiranjeevi_at_ANR_Awards_2024_%28cropped%29.jpg/440px-Chiranjeevi_at_ANR_Awards_2024_%28cropped%29.jpg", films:12, hits:7, pct:58, peak:"2002-05, 2017, 2023, 2026", career:"â‚¹1,900 Cr", highest:"â‚¹303 Cr" },
  { name:"Pawan Kalyan", nick:"Power Star", initials:"PK", color:"#DC2626", img:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/bd/The_portrait_of_Pawan_Kalyan_%282024%29.jpg/440px-The_portrait_of_Pawan_Kalyan_%282024%29.jpg", films:18, hits:10, pct:56, peak:"2008, 2012-13, 2025", career:"â‚¹1,700 Cr", highest:"â‚¹294 Cr" },
  { name:"Mahesh Babu", nick:"Superstar", initials:"MB", color:"#2563EB", img:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/17/Mahesh_Babu_in_Spyder_%28cropped%29.jpg/440px-Mahesh_Babu_in_Spyder_%28cropped%29.jpg", films:22, hits:15, pct:68, peak:"2006, 2011, 2015, 2018-20", career:"â‚¹2,800 Cr", highest:"â‚¹260 Cr" },
  { name:"Jr NTR", nick:"Young Tiger", initials:"NTR", color:"#7C3AED", img:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a1/N._T._Rama_Rao_Jr._in_2021.jpg/440px-N._T._Rama_Rao_Jr._in_2021.jpg", films:26, hits:17, pct:65, peak:"2003, 2007, 2016, 2022, 2024", career:"â‚¹3,500 Cr", highest:"â‚¹1,387 Cr (RRR)" },
  { name:"Prabhas", nick:"Rebel Star", initials:"PB", color:"#059669", img:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Prabhas_by_Gage_Skidmore.jpg/440px-Prabhas_by_Gage_Skidmore.jpg", films:18, hits:11, pct:61, peak:"2015, 2017, 2023-24", career:"â‚¹7,200 Cr", highest:"â‚¹1,810 Cr" },
  { name:"Allu Arjun", nick:"Icon Star", initials:"AA", color:"#D97706", img:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/Allu_Arjun_at_Pushpa_2_The_Rule_meet.jpg/440px-Allu_Arjun_at_Pushpa_2_The_Rule_meet.jpg", films:19, hits:14, pct:74, peak:"2014, 2016, 2020-21, 2024", career:"â‚¹4,500 Cr", highest:"â‚¹1,785 Cr" },
  { name:"Ram Charan", nick:"Mega Power Star", initials:"RC", color:"#0891B2", img:"https://upload.wikimedia.org/wikipedia/commons/c/c8/Ram_Charan_in_2022.jpg", films:15, hits:9, pct:60, peak:"2009, 2018, 2022", career:"â‚¹2,700 Cr", highest:"â‚¹1,387 Cr (RRR)" },
  { name:"Nagarjuna", nick:"King", initials:"NG", color:"#78716c", img:"https://upload.wikimedia.org/wikipedia/commons/e/e1/Nagarjuna_Akkineni_at_ANR_Awards.jpg", films:26, hits:12, pct:46, peak:"2002, 2004, 2016", career:"â‚¹900 Cr", highest:"â‚¹100 Cr" },
  { name:"Venkatesh", nick:"Victory V", initials:"VK", color:"#4F46E5", img:"https://upload.wikimedia.org/wikipedia/commons/a/a2/Venkatesh_Daggubati_at_ANR_Awards.jpg", films:28, hits:15, pct:54, peak:"2000, 2006, 2019, 2025", career:"â‚¹1,100 Cr", highest:"â‚¹257 Cr" },
  { name:"Balakrishna", nick:"NBK", initials:"NBK", color:"#DB2777", img:"https://m.media-amazon.com/images/M/MV5BOGNkNDJlODAtODI4Zi00ZmU5LWJjYmItYTU5ZmI4YmFmOTAwXkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg", films:25, hits:14, pct:56, peak:"2001, 2010, 2021-23", career:"â‚¹1,200 Cr", highest:"â‚¹150 Cr" },
  { name:"Ravi Teja", nick:"Mass Maharaja", initials:"RT", color:"#f97316", img:"https://upload.wikimedia.org/wikipedia/commons/a/a8/Ravi_Teja_in_Dhamaka_promotions_2022_%28cropped%29.png", films:35, hits:18, pct:51, peak:"2002, 2006, 2009", career:"â‚¹1,100 Cr", highest:"â‚¹80 Cr" },
  { name:"Nani", nick:"Natural Star", initials:"NN", color:"#22d3ee", img:"https://upload.wikimedia.org/wikipedia/commons/9/9a/Nani_at_an_interview_for_film_companion_%28cropped%29.png", films:27, hits:16, pct:59, peak:"2012, 2017, 2023", career:"â‚¹950 Cr", highest:"â‚¹121 Cr" },
  { name:"Vijay Deverakonda", nick:"Rowdy", initials:"VD", color:"#e11d48", img:"https://upload.wikimedia.org/wikipedia/commons/2/29/Vijay_Deverakonda_at_NOTA_pressmeet_2_%28cropped%29.jpg", films:14, hits:5, pct:36, peak:"2017-18", career:"â‚¹600 Cr", highest:"â‚¹132 Cr" }
];

const dominanceData = [
  { year:2000, hero:"Chiranjeevi / Venkatesh", color:"var(--hero-chiru)" },
  { year:2001, hero:"Balakrishna", color:"var(--hero-balak)" },
  { year:2002, hero:"Chiranjeevi", color:"var(--hero-chiru)" },
  { year:2003, hero:"Chiranjeevi", color:"var(--hero-chiru)" },
  { year:2004, hero:"Chiranjeevi", color:"var(--hero-chiru)" },
  { year:2005, hero:"Chiranjeevi", color:"var(--hero-chiru)" },
  { year:2006, hero:"Mahesh Babu", color:"var(--hero-mahesh)" },
  { year:2007, hero:"Jr NTR", color:"var(--hero-ntr)" },
  { year:2008, hero:"Pawan Kalyan", color:"var(--hero-pawan)" },
  { year:2009, hero:"Ram Charan", color:"var(--hero-charan)" },
  { year:2010, hero:"Balakrishna", color:"var(--hero-balak)" },
  { year:2011, hero:"Mahesh Babu", color:"var(--hero-mahesh)" },
  { year:2012, hero:"Pawan Kalyan", color:"var(--hero-pawan)" },
  { year:2013, hero:"Pawan Kalyan", color:"var(--hero-pawan)" },
  { year:2014, hero:"Allu Arjun", color:"var(--hero-allu)" },
  { year:2015, hero:"Prabhas", color:"var(--hero-prabhas)" },
  { year:2016, hero:"Jr NTR", color:"var(--hero-ntr)" },
  { year:2017, hero:"Prabhas", color:"var(--hero-prabhas)" },
  { year:2018, hero:"Mahesh Babu", color:"var(--hero-mahesh)" },
  { year:2019, hero:"Prabhas", color:"var(--hero-prabhas)" },
  { year:2020, hero:"Allu Arjun", color:"var(--hero-allu)" },
  { year:2021, hero:"Allu Arjun", color:"var(--hero-allu)" },
  { year:2022, hero:"NTR & Ram Charan", color:"var(--hero-ntr)" },
  { year:2023, hero:"Prabhas", color:"var(--hero-prabhas)" },
  { year:2024, hero:"Allu Arjun", color:"var(--hero-allu)" },
  { year:2025, hero:"Venkatesh", color:"var(--hero-venky)" },
  { year:2026, hero:"Chiranjeevi", color:"var(--hero-chiru)" }
];

const milestonesData = [
  { year:2002, text:"<strong>Indra</strong> crosses â‚¹50 Cr â€” Telugu cinema scale grows", color:"var(--hero-chiru)" },
  { year:2006, text:"<strong>Pokiri</strong> redefines box office with â‚¹63 Cr", color:"var(--hero-mahesh)" },
  { year:2009, text:"<strong>Magadheera</strong> â€” FIRST â‚¹100 Cr+ Telugu film", color:"var(--hero-charan)" },
  { year:2012, text:"<strong>Gabbar Singh</strong> & <strong>Eega</strong> â€” â‚¹150 Cr milestones", color:"var(--hero-pawan)" },
  { year:2013, text:"<strong>Attarintiki Daredi</strong> â€” First â‚¹175 Cr+", color:"var(--hero-pawan)" },
  { year:2015, text:"<strong>Baahubali 1</strong> â€” First â‚¹500 Cr+, changed Indian cinema", color:"var(--hero-prabhas)" },
  { year:2017, text:"<strong>Baahubali 2</strong> â€” First â‚¹1,000 Cr Indian film, then â‚¹1,500 Cr, then â‚¹1,800 Cr", color:"var(--hero-prabhas)" },
  { year:2021, text:"<strong>Pushpa</strong> makes Allu Arjun a pan-India star, National Award", color:"var(--hero-allu)" },
  { year:2022, text:"<strong>RRR</strong> â€” Oscar for Naatu Naatu, Telugu cinema goes global", color:"var(--hero-ntr)" },
  { year:2024, text:"<strong>Pushpa 2</strong> â€” â‚¹1,785 Cr, <strong>Kalki</strong> â‚¹1,100 Cr â€” two mega films same year", color:"var(--hero-allu)" }
];

const erasData = [
  { years:"2000â€“2005", name:"THE CHIRANJEEVI REIGN", desc:"The Megastar dominated the box office. Budgets ranged â‚¹3â€“7 Cr, collections â‚¹35â€“51 Cr. Chiranjeevi was the undisputed king with hits like Indra, Tagore, and Shankar Dada MBBS. The entire industry revolved around his dates and releases.", color:"var(--hero-chiru)", gradient:"linear-gradient(135deg, rgba(255,107,0,0.2), rgba(255,107,0,0.05))" },
  { years:"2006â€“2010", name:"THE TRANSITION", desc:"Mahesh Babu's Pokiri rewrote the rules with â‚¹63 Cr. Ram Charan's Magadheera shattered the â‚¹100 Cr barrier. A new generation of heroes arrived â€” Jr NTR, Allu Arjun, Ram Charan, Prabhas â€” challenging the old guard. Telugu cinema was evolving.", color:"var(--hero-mahesh)", gradient:"linear-gradient(135deg, rgba(37,99,235,0.2), rgba(37,99,235,0.05))" },
  { years:"2011â€“2015", name:"THE RISE OF NEW KINGS", desc:"Mahesh Babu (Dookudu â‚¹112 Cr), Pawan Kalyan (Gabbar Singh â‚¹150 Cr, Attarintiki Daredi â‚¹187 Cr), and Prabhas ascended to superstardom. Then Baahubali changed EVERYTHING â€” â‚¹650 Cr obliterated every record and put Telugu cinema on the world map.", color:"var(--hero-prabhas)", gradient:"linear-gradient(135deg, rgba(5,150,105,0.2), rgba(5,150,105,0.05))" },
  { years:"2016â€“2020", name:"PAN-INDIA AWAKENING", desc:"â‚¹200+ Cr became the new normal. Multiple heroes â€” NTR, Mahesh, Prabhas, Allu Arjun â€” competed at the â‚¹200-400 Cr level. Baahubali 2 shattered all Indian records with â‚¹1,810 Cr. Telugu films began dominating Hindi markets. The pan-India revolution began.", color:"var(--hero-ntr)", gradient:"linear-gradient(135deg, rgba(124,58,237,0.2), rgba(124,58,237,0.05))" },
  { years:"2021â€“2026", name:"GLOBAL DOMINATION", desc:"RRR won an Oscar. Pushpa 2 collected â‚¹1,785 Cr. Kalki crossed â‚¹1,100 Cr. Telugu cinema became India's most powerful film industry with â‚¹1,000 Cr+ films, global distribution, and heroes who are household names across the country. The era of global domination.", color:"var(--hero-allu)", gradient:"linear-gradient(135deg, rgba(217,119,6,0.2), rgba(217,119,6,0.05))" }
];

const growthPoints = [35.6,35,51,55,50.8,36,63,50,44,150,60,112,150,187,110,650,134.8,1810,225,435,280,393,1387,702,1785,257,303];

// ===== BACKGROUND PARTICLES =====
(function initParticles() {
  const canvas = document.getElementById('bg-canvas');
  const ctx = canvas.getContext('2d');
  let w, h, particles = [];
  
  function resize() {
    w = canvas.width = window.innerWidth;
    h = canvas.height = window.innerHeight;
  }
  resize();
  window.addEventListener('resize', resize);
  
  class Particle {
    constructor() {
      this.reset();
    }
    reset() {
      this.x = Math.random() * w;
      this.y = Math.random() * h;
      this.size = Math.random() * 2 + 0.5;
      this.speedX = (Math.random() - 0.5) * 0.3;
      this.speedY = (Math.random() - 0.5) * 0.3;
      this.opacity = Math.random() * 0.4 + 0.1;
      this.color = Math.random() > 0.7 ? 'rgba(245,197,24,' : 'rgba(107,33,168,';
    }
    update() {
      this.x += this.speedX;
      this.y += this.speedY;
      if (this.x < 0 || this.x > w || this.y < 0 || this.y > h) this.reset();
    }
    draw() {
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
      ctx.fillStyle = this.color + this.opacity + ')';
      ctx.fill();
    }
  }
  
  for (let i = 0; i < 80; i++) particles.push(new Particle());
  
  function animate() {
    ctx.clearRect(0, 0, w, h);
    // Gradient mesh background
    const grd = ctx.createRadialGradient(w*0.3, h*0.3, 0, w*0.3, h*0.3, w*0.6);
    grd.addColorStop(0, 'rgba(107,33,168,0.03)');
    grd.addColorStop(1, 'transparent');
    ctx.fillStyle = grd;
    ctx.fillRect(0, 0, w, h);
    
    const grd2 = ctx.createRadialGradient(w*0.7, h*0.7, 0, w*0.7, h*0.7, w*0.5);
    grd2.addColorStop(0, 'rgba(245,197,24,0.02)');
    grd2.addColorStop(1, 'transparent');
    ctx.fillStyle = grd2;
    ctx.fillRect(0, 0, w, h);
    
    particles.forEach(p => { p.update(); p.draw(); });
    requestAnimationFrame(animate);
  }
  animate();
})();

// ===== LOADER =====
function hideLoader() {
  const loader = document.getElementById('loader');
  if (loader && !loader.classList.contains('hidden')) {
    loader.classList.add('hidden');
  }
}
// Hide on full load (images etc)
window.addEventListener('load', () => setTimeout(hideLoader, 600));
// Fallback: hide when DOM is ready (don't wait for images)
if (document.readyState === 'complete' || document.readyState === 'interactive') {
  setTimeout(hideLoader, 800);
} else {
  document.addEventListener('DOMContentLoaded', () => setTimeout(hideLoader, 800));
}
// Hard fallback: always hide after 3 seconds no matter what
setTimeout(hideLoader, 3000);

// ===== BUILD LEADERBOARD =====
(function buildLeaderboard() {
  const container = document.getElementById('leaderboardContainer');
  const maxVal = top10[0].collection;
  top10.forEach((item, i) => {
    const pct = (item.collection / maxVal) * 100;
    const wrapper = document.createElement('div');
    wrapper.className = 'lb-bar-wrapper reveal';
    wrapper.style.transitionDelay = (i * 0.08) + 's';
    wrapper.innerHTML = `
      <div class="lb-rank">${item.rank}</div>
      <div class="lb-bar" style="width:${Math.max(pct, 20)}%;background:linear-gradient(90deg, ${item.color}cc, ${item.color}66);">
        <div class="lb-bar-info">
          <div class="lb-movie">${item.movie} <span>${item.hero}</span></div>
          <div style="display:flex;align-items:center;gap:6px;flex-shrink:0;">
            <div class="lb-collection">â‚¹${item.collection.toLocaleString()} Cr</div>
            <div class="lb-year-tag">${item.year}</div>
          </div>
        </div>
      </div>
    `;
    container.appendChild(wrapper);
  });
})();

// ===== BUILD TIMELINE =====
(function buildTimeline() {
  const container = document.getElementById('timelineContainer');
  timelineData.forEach((item, i) => {
    const div = document.createElement('div');
    div.className = 'timeline-item';
    const revealClass = i % 2 === 0 ? 'reveal-left' : 'reveal-right';
    div.innerHTML = `
      <div class="timeline-dot"></div>
      <div class="timeline-content ${revealClass}">
        <div class="timeline-card" style="border-top:3px solid ${item.heroColor};">
          <div class="timeline-year" style="color:${item.heroColor};">${item.year}</div>
          <div class="timeline-top-label">TOP GROSSER</div>
          <div class="timeline-movie">${item.movie}</div>
          <div class="timeline-hero-name" style="color:${item.heroColor};">${item.hero}</div>
          <div class="timeline-gross" style="color:${item.heroColor};">${item.collection}</div>
          ${item.note ? `<div class="timeline-note">${item.note}</div>` : ''}
          ${item.also ? `<div class="timeline-also"><strong>Also:</strong> ${item.also}</div>` : ''}
        </div>
      </div>
    `;
    container.appendChild(div);
  });
})();

// ===== BUILD HERO CARDS =====
(function buildHeroCards() {
  const grid = document.getElementById('heroGrid');
  heroesData.forEach((h, i) => {
    const card = document.createElement('div');
    card.className = 'hero-flip-card reveal';
    card.style.transitionDelay = (i * 0.06) + 's';
    
    const pctColor = h.pct >= 65 ? '#22c55e' : h.pct >= 50 ? '#f5c518' : '#ef4444';
    
    card.innerHTML = `
      <div class="hero-flip-inner">
        <div class="hero-flip-front">
          <div class="hero-avatar" style="border:3px solid ${h.color};background:${h.color}22;">
            <img src="${h.img}" alt="${h.name}" style="width:100%;height:100%;object-fit:cover;border-radius:50%;" onerror="this.style.display='none';this.parentElement.insertAdjacentHTML('afterbegin','<span style=\'font-family:Bebas Neue,sans-serif;font-size:1.8rem;color:#fff;\'>${h.initials}</span>');">
          </div>
          <div class="hero-name-display">${h.name}</div>
          <div class="hero-nickname">"${h.nick}"</div>
          <div class="hero-hit-pct" style="color:${pctColor};">${h.pct}%</div>
          <div class="hero-hit-label">Hit Rate</div>
        </div>
        <div class="hero-flip-back">
          <div class="hero-back-name">${h.name}</div>
          <div class="hero-stats-grid">
            <div class="hero-stat">
              <div class="hero-stat-value">${h.films}</div>
              <div class="hero-stat-label">Films</div>
            </div>
            <div class="hero-stat">
              <div class="hero-stat-value">${h.hits}</div>
              <div class="hero-stat-label">Hits</div>
            </div>
            <div class="hero-stat">
              <div class="hero-stat-value">${h.films - h.hits}</div>
              <div class="hero-stat-label">Non-Hits</div>
            </div>
            <div class="hero-stat">
              <div class="hero-stat-value" style="color:${pctColor};">${h.pct}%</div>
              <div class="hero-stat-label">Hit Rate</div>
            </div>
          </div>
          <div class="hero-highest">
            Career Total: <strong>${h.career}</strong><br>
            Highest: <strong>${h.highest}</strong><br>
            Peak: ${h.peak}
          </div>
        </div>
      </div>
    `;
    grid.appendChild(card);
  });
})();

// ===== BUILD HERO VS HERO COMPARISON =====
(function buildCompare() {
  const selA = document.getElementById('compareSelectA');
  const selB = document.getElementById('compareSelectB');
  const btn = document.getElementById('compareBtn');
  const result = document.getElementById('compareResult');
  if (!selA || !selB || !btn || !result) return;

  heroesData.forEach(h => {
    const optA = document.createElement('option');
    optA.value = h.name; optA.textContent = h.name + ' â€” ' + h.nick;
    selA.appendChild(optA);
    const optB = document.createElement('option');
    optB.value = h.name; optB.textContent = h.name + ' â€” ' + h.nick;
    selB.appendChild(optB);
  });

  function parseCareer(str) {
    const m = str.replace(/[â‚¹,]/g,'').match(/([\d.]+)/);
    return m ? parseFloat(m[1]) : 0;
  }

  function renderCompare() {
    const nameA = selA.value;
    const nameB = selB.value;
    if (!nameA || !nameB) { alert('Please select two heroes to compare.'); return; }
    if (nameA === nameB) { alert('Please select two different heroes.'); return; }
    const hA = heroesData.find(h => h.name === nameA);
    const hB = heroesData.find(h => h.name === nameB);
    const filmsA = heroFilms[nameA] || [];
    const filmsB = heroFilms[nameB] || [];

    const stats = [
      { label:'Films', valA:hA.films, valB:hB.films, strA:hA.films.toString(), strB:hB.films.toString() },
      { label:'Hits', valA:hA.hits, valB:hB.hits, strA:hA.hits.toString(), strB:hB.hits.toString() },
      { label:'Hit Rate', valA:hA.pct, valB:hB.pct, strA:hA.pct+'%', strB:hB.pct+'%' },
      { label:'Career Total', valA:parseCareer(hA.career), valB:parseCareer(hB.career), strA:hA.career, strB:hB.career },
      { label:'Highest Grosser', valA:parseCareer(hA.highest), valB:parseCareer(hB.highest), strA:hA.highest, strB:hB.highest }
    ];

    const statsHTML = stats.map(s => {
      const maxVal = Math.max(s.valA, s.valB) || 1;
      const pctA = (s.valA / maxVal) * 100;
      const pctB = (s.valB / maxVal) * 100;
      const colorA = s.valA >= s.valB ? hA.color : 'rgba(255,255,255,0.15)';
      const colorB = s.valB >= s.valA ? hB.color : 'rgba(255,255,255,0.15)';
      return '<div class="compare-stat-row">' +
        '<div class="compare-stat-left">' +
          '<span class="compare-stat-value" style="color:' + (s.valA >= s.valB ? hA.color : '#fff') + '">' + s.strA + '</span>' +
          '<div class="compare-bar-track"><div class="compare-bar-fill" style="width:' + pctA + '%;background:' + colorA + ';"></div></div>' +
        '</div>' +
        '<div class="compare-stat-label">' + s.label + '</div>' +
        '<div class="compare-stat-right">' +
          '<span class="compare-stat-value" style="color:' + (s.valB >= s.valA ? hB.color : '#fff') + '">' + s.strB + '</span>' +
          '<div class="compare-bar-track"><div class="compare-bar-fill" style="width:' + pctB + '%;background:' + colorB + ';"></div></div>' +
        '</div>' +
      '</div>';
    }).join('');

    function filmRows(films, color) {
      if (!films.length) return '<p style="color:var(--text-secondary);font-size:0.85rem;">No data</p>';
      return '<table style="width:100%;border-collapse:separate;border-spacing:0 3px;">' +
        '<tr><th style="text-align:left;font-size:0.65rem;text-transform:uppercase;letter-spacing:0.08em;color:var(--gold-dim);padding:0 8px 6px;">Film</th>' +
        '<th style="text-align:right;font-size:0.65rem;text-transform:uppercase;letter-spacing:0.08em;color:var(--gold-dim);padding:0 8px 6px;">WW</th>' +
        '<th style="text-align:right;font-size:0.65rem;text-transform:uppercase;letter-spacing:0.08em;color:var(--gold-dim);padding:0 8px 6px;">Verdict</th></tr>' +
        films.map(f => '<tr>' +
          '<td style="font-size:0.82rem;color:#fff;padding:5px 8px;background:rgba(255,255,255,0.02);border-radius:6px 0 0 6px;">' + f.title + ' <span style="color:rgba(255,255,255,0.4);font-size:0.7rem;">' + f.yr + '</span></td>' +
          '<td style="font-size:0.82rem;color:var(--text-secondary);padding:5px 8px;background:rgba(255,255,255,0.02);text-align:right;">' + f.ww + '</td>' +
          '<td style="font-size:0.75rem;font-weight:600;padding:5px 8px;background:rgba(255,255,255,0.02);border-radius:0 6px 6px 0;text-align:right;" class="verdict-' + f.vClass + '">' + f.verdict + '</td>' +
        '</tr>').join('') + '</table>';
    }

    result.innerHTML =
      '<div class="compare-header-row">' +
        '<div class="compare-hero-header" style="border-color:' + hA.color + '44;">' +
          '<div class="compare-hero-photo" style="border-color:' + hA.color + ';box-shadow:0 0 25px ' + hA.color + '44;">' +
            '<img src="' + hA.img + '" alt="' + hA.name + '" style="width:100%;height:100%;object-fit:cover;">' +
          '</div>' +
          '<div class="compare-hero-name" style="color:' + hA.color + ';">' + hA.name + '</div>' +
          '<div class="compare-hero-nick">"' + hA.nick + '"</div>' +
        '</div>' +
        '<div class="compare-vs-center">VS</div>' +
        '<div class="compare-hero-header" style="border-color:' + hB.color + '44;">' +
          '<div class="compare-hero-photo" style="border-color:' + hB.color + ';box-shadow:0 0 25px ' + hB.color + '44;">' +
            '<img src="' + hB.img + '" alt="' + hB.name + '" style="width:100%;height:100%;object-fit:cover;">' +
          '</div>' +
          '<div class="compare-hero-name" style="color:' + hB.color + ';">' + hB.name + '</div>' +
          '<div class="compare-hero-nick">"' + hB.nick + '"</div>' +
        '</div>' +
      '</div>' +
      '<div class="compare-stats-container">' + statsHTML + '</div>' +
      '<div class="compare-films-section">' +
        '<div class="compare-films-col">' +
          '<div class="compare-films-title" style="color:' + hA.color + ';">' + hA.name + ' â€” Filmography</div>' +
          filmRows(filmsA, hA.color) +
        '</div>' +
        '<div class="compare-films-col">' +
          '<div class="compare-films-title" style="color:' + hB.color + ';">' + hB.name + ' â€” Filmography</div>' +
          filmRows(filmsB, hB.color) +
        '</div>' +
      '</div>';
    result.classList.add('visible');
    setTimeout(() => result.scrollIntoView({ behavior:'smooth', block:'start' }), 100);
  }

  btn.addEventListener('click', renderCompare);
})();

// ===== BUILD DOMINANCE GRID =====
(function buildDominance() {
  dominanceData.forEach((d, i) => {
    const cell = document.createElement('div');
    cell.className = 'dominance-cell reveal';
    cell.style.transitionDelay = (i * 0.04) + 's';
    cell.style.background = d.color;
    cell.innerHTML = `
      <div class="dominance-year">${d.year}</div>
      <div class="dominance-hero-name">${d.hero}</div>
    `;
    grid.appendChild(cell);
  });
})();

// ===== BUILD MILESTONES =====
(function buildMilestones() {
  const container = document.getElementById('milestonesContainer');
  milestonesData.forEach((m, i) => {
    const item = document.createElement('div');
    item.className = 'milestone-item reveal';
    item.style.transitionDelay = (i * 0.1) + 's';
    item.innerHTML = `
      <div class="milestone-marker" style="background:${m.color};"></div>
      <div class="milestone-body">
        <div class="milestone-year-tag" style="color:${m.color};">${m.year}</div>
        <div class="milestone-text">${m.text}</div>
      </div>
    `;
    container.appendChild(item);
  });
})();

// ===== BUILD ERAS =====
(function buildEras() {
  const container = document.getElementById('erasContainer');
  erasData.forEach((e, i) => {
    const card = document.createElement('div');
    card.className = 'era-card reveal';
    card.style.transitionDelay = (i * 0.1) + 's';
    card.innerHTML = `
      <div class="era-period" style="background:${e.gradient};">
        <div class="era-years" style="color:${e.color};">${e.years}</div>
      </div>
      <div class="era-body">
        <div class="era-name" style="color:${e.color};">${e.name}</div>
        <div class="era-desc">${e.desc}</div>
      </div>
    `;
    container.appendChild(card);
  });
})();

// ===== DRAW GROWTH CHART =====
(function drawGrowthChart() {
  const canvas = document.getElementById('growthChart');
  const ctx = canvas.getContext('2d');
  let drawn = false;
  let animProgress = 0;
  
  function resizeCanvas() {
    const rect = canvas.parentElement.getBoundingClientRect();
    canvas.width = rect.width * (window.devicePixelRatio || 1);
    canvas.height = 400 * (window.devicePixelRatio || 1);
    canvas.style.width = rect.width + 'px';
    canvas.style.height = '400px';
    ctx.scale(window.devicePixelRatio || 1, window.devicePixelRatio || 1);
  }
  
  function render(progress) {
    resizeCanvas();
    const W = canvas.style.width.replace('px','') * 1;
    const H = 400;
    const pad = { top:40, right:30, bottom:50, left:80 };
    const chartW = W - pad.left - pad.right;
    const chartH = H - pad.top - pad.bottom;
    
    ctx.clearRect(0, 0, W, H);
    
    const years = [];
    for (let y = 2000; y <= 2026; y++) years.push(y);
    
    // Log10 scale helpers
    const logMin = Math.log10(10);    // log10(10)  = 1
    const logMax = Math.log10(1810);  // log10(1810) ~ 3.258
    const logRange = logMax - logMin;
    
    function toY(val) {
      const logVal = Math.log10(Math.max(val, 10));
      return pad.top + chartH - ((logVal - logMin) / logRange) * chartH;
    }
    
    // Y-axis grid lines at log-scale ticks
    const gridSteps = [10, 50, 100, 200, 500, 1000, 1800];
    ctx.lineWidth = 1;
    gridSteps.forEach(v => {
      const y = toY(v);
      if (y < pad.top || y > pad.top + chartH) return;
      ctx.strokeStyle = v === 1810 ? 'rgba(245,197,24,0.2)' : 'rgba(255,255,255,0.07)';
      ctx.beginPath();
      ctx.moveTo(pad.left, y);
      ctx.lineTo(pad.left + chartW, y);
      ctx.stroke();
      
      ctx.fillStyle = v >= 1000 ? 'rgba(245,197,24,0.7)' : 'rgba(255,255,255,0.35)';
      ctx.font = (v >= 1000 ? 'bold ' : '') + '11px DM Sans';
      ctx.textAlign = 'right';
      const label = v >= 1000 ? 'â‚¹' + (v/1000).toFixed(1).replace('.0','') + 'k' : 'â‚¹' + v;
      ctx.fillText(label + ' Cr', pad.left - 8, y + 4);
    });
    
    // X axis labels
    ctx.fillStyle = 'rgba(255,255,255,0.35)';
    ctx.font = '10px DM Sans';
    ctx.textAlign = 'center';
    years.forEach((yr, i) => {
      if (i % 2 === 0) {
        const x = pad.left + (i / (years.length - 1)) * chartW;
        ctx.fillText(yr.toString().slice(2), x, H - pad.bottom + 18);
      }
    });
    
    // X-axis baseline
    ctx.strokeStyle = 'rgba(255,255,255,0.12)';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(pad.left, pad.top + chartH);
    ctx.lineTo(pad.left + chartW, pad.top + chartH);
    ctx.stroke();
    
    // Scale label
    ctx.save();
    ctx.fillStyle = 'rgba(255,255,255,0.18)';
    ctx.font = '10px DM Sans';
    ctx.textAlign = 'center';
    ctx.translate(14, pad.top + chartH / 2);
    ctx.rotate(-Math.PI / 2);
    ctx.fillText('LOG SCALE', 0, 0);
    ctx.restore();
    
    // Draw area + line
    const pointsToShow = Math.floor(progress * growthPoints.length);
    if (pointsToShow < 2) return;
    
    const points = growthPoints.slice(0, pointsToShow).map((v, i) => ({
      x: pad.left + (i / (years.length - 1)) * chartW,
      y: toY(v),
      val: v
    }));
    
    // Area fill (gradient top-to-bottom)
    const gradient = ctx.createLinearGradient(0, pad.top, 0, pad.top + chartH);
    gradient.addColorStop(0, 'rgba(245,197,24,0.28)');
    gradient.addColorStop(0.45, 'rgba(107,33,168,0.12)');
    gradient.addColorStop(1, 'rgba(245,197,24,0.02)');
    
    ctx.beginPath();
    ctx.moveTo(points[0].x, pad.top + chartH);
    points.forEach(p => ctx.lineTo(p.x, p.y));
    ctx.lineTo(points[points.length - 1].x, pad.top + chartH);
    ctx.closePath();
    ctx.fillStyle = gradient;
    ctx.fill();
    
    // Line
    ctx.beginPath();
    points.forEach((p, i) => i === 0 ? ctx.moveTo(p.x, p.y) : ctx.lineTo(p.x, p.y));
    ctx.strokeStyle = '#f5c518';
    ctx.lineWidth = 2.5;
    ctx.lineJoin = 'round';
    ctx.stroke();
    
    // Dots + labels for spike values
    points.forEach((p, i) => {
      const val = p.val;
      const isSpike = val >= 150;
      const isMega = val >= 500;
      ctx.beginPath();
      ctx.arc(p.x, p.y, isMega ? 6 : isSpike ? 4 : 3, 0, Math.PI * 2);
      ctx.fillStyle = isSpike ? '#f5c518' : 'rgba(245,197,24,0.55)';
      ctx.fill();
      if (isSpike) {
        ctx.beginPath();
        ctx.arc(p.x, p.y, isMega ? 10 : 8, 0, Math.PI * 2);
        ctx.strokeStyle = 'rgba(245,197,24,0.3)';
        ctx.lineWidth = 1.5;
        ctx.stroke();
        // Label â€” alternate above/below to avoid clashes
        const labelY = p.y - (isMega ? 16 : 14);
        ctx.fillStyle = isMega ? 'var(--gold)' : '#fff';
        ctx.font = (isMega ? 'bold ' : '') + '10px DM Sans';
        ctx.textAlign = 'center';
        const labelStr = val >= 1000 ? 'â‚¹' + (val/1000).toFixed(1).replace('.0','') + 'k' : 'â‚¹' + val;
        ctx.fillText(labelStr, p.x, labelY);
      }
    });
  }
  
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting && !drawn) {
        drawn = true;
        let start = null;
        function step(ts) {
          if (!start) start = ts;
          animProgress = Math.min((ts - start) / 2500, 1);
          render(animProgress);
          if (animProgress < 1) requestAnimationFrame(step);
        }
        requestAnimationFrame(step);
      }
    });
  }, { threshold: 0.3 });
  observer.observe(canvas);
  
  window.addEventListener('resize', () => { if (drawn) render(animProgress); });
})();

// ===== INTERSECTION OBSERVER FOR REVEALS =====
(function initReveals() {
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, { threshold: 0.1, rootMargin: '0px 0px -40px 0px' });
  
  document.querySelectorAll('.reveal, .reveal-left, .reveal-right').forEach(el => observer.observe(el));
})();

// ===== 3D TILT ON KING CARD =====
(function initTilt() {
  const card = document.getElementById('kingCard');
  if (!card) return;
  card.addEventListener('mousemove', (e) => {
    const rect = card.getBoundingClientRect();
    const x = (e.clientX - rect.left) / rect.width - 0.5;
    const y = (e.clientY - rect.top) / rect.height - 0.5;
    card.style.transform = `perspective(800px) rotateY(${x * 8}deg) rotateX(${-y * 8}deg)`;
  });
  card.addEventListener('mouseleave', () => {
    card.style.transform = 'perspective(800px) rotateY(0) rotateX(0)';
  });
})();

// ===== PARALLAX ON SCROLL =====
(function initParallax() {
  const hero = document.querySelector('.hero-title');
  const nav = document.getElementById('floatingNav');
  window.addEventListener('scroll', () => {
    const scrollY = window.scrollY;
    if (hero) {
      hero.style.transform = `perspective(800px) rotateX(${5 - scrollY * 0.005}deg) translateY(${scrollY * 0.15}px)`;
      hero.style.opacity = Math.max(1 - scrollY / 600, 0);
    }
    if (nav) {
      if (scrollY > window.innerHeight * 0.7) {
        nav.classList.add('visible');
      } else {
        nav.classList.remove('visible');
      }
    }
  });
})();

// ===== EXPANDED MOVIE DATABASE =====
const movieDB = {
  "Baahubali 2: The Conclusion": { hero:"Prabhas", director:"S. S. Rajamouli", year:2017, budget:"â‚¹250 Cr", ww:"â‚¹1,810 Cr", indiaNet:"â‚¹511 Cr", verdict:"All-Time Blockbuster", profit:"624%", notes:"First Indian film to cross â‚¹1,000 Cr, â‚¹1,500 Cr, â‚¹1,800 Cr. Highest-grossing Telugu film of all time. Cultural phenomenon across India.", genre:"Epic Fantasy" },
  "Pushpa 2: The Rule": { hero:"Allu Arjun", director:"Sukumar", year:2024, budget:"â‚¹450 Cr", ww:"â‚¹1,785 Cr", indiaNet:"â‚¹830 Cr", verdict:"All-Time Blockbuster", profit:"297%", notes:"India opening day record: â‚¹72 Cr. Third highest-grossing Indian film. Allu Arjun cemented pan-India superstar status.", genre:"Action Drama" },
  "RRR": { hero:"Jr NTR & Ram Charan", director:"S. S. Rajamouli", year:2022, budget:"â‚¹550 Cr", ww:"â‚¹1,387 Cr", indiaNet:"â‚¹274 Cr", verdict:"All-Time Blockbuster", profit:"152%", notes:"Won Oscar for Best Original Song (Naatu Naatu). Dual-hero franchise; Telugu cinema reached the global stage.", genre:"Period Action" },
  "Kalki 2898 AD": { hero:"Prabhas", director:"Nag Ashwin", year:2024, budget:"â‚¹600 Cr", ww:"â‚¹1,100 Cr", indiaNet:"â‚¹650 Cr", verdict:"All-Time Blockbuster", profit:"83%", notes:"Sci-fi epic with Deepika Padukone, Amitabh Bachchan. Prabhas's 4th film in 1000 Cr+ club.", genre:"Sci-Fi Epic" },
  "Salaar": { hero:"Prabhas", director:"Prashanth Neel", year:2023, budget:"â‚¹200 Cr", ww:"â‚¹702 Cr", indiaNet:"â‚¹450 Cr", verdict:"All-Time Blockbuster", profit:"251%", notes:"Released alongside Dunki (SRK). Prabhas's biggest non-Baahubali Telugu-language opener.", genre:"Action Thriller" },
  "Baahubali: The Beginning": { hero:"Prabhas", director:"S. S. Rajamouli", year:2015, budget:"â‚¹180 Cr", ww:"â‚¹650 Cr", indiaNet:"â‚¹408 Cr", verdict:"All-Time Blockbuster", profit:"261%", notes:"First Telugu film to cross â‚¹200 Cr, â‚¹400 Cr, â‚¹500 Cr. Changed the scale of Indian cinema forever.", genre:"Epic Fantasy" },
  "Devara": { hero:"Jr NTR", director:"Koratala Siva", year:2024, budget:"â‚¹300 Cr", ww:"â‚¹521 Cr", indiaNet:"â‚¹285 Cr", verdict:"Blockbuster", profit:"74%", notes:"NTR's solo comeback after RRR. Massive opening weekend.", genre:"Action Drama" },
  "Saaho": { hero:"Prabhas", director:"Sujeeth", year:2019, budget:"â‚¹350 Cr", ww:"â‚¹439 Cr", indiaNet:"â‚¹212 Cr", verdict:"Semi-Hit", profit:"25%", notes:"Most expensive South Indian film at that time. Made in Telugu, Hindi, Tamil simultaneously.", genre:"Action Thriller" },
  "Pushpa: The Rise": { hero:"Allu Arjun", director:"Sukumar", year:2021, budget:"â‚¹200 Cr", ww:"â‚¹393 Cr", indiaNet:"â‚¹108 Cr", verdict:"Blockbuster", profit:"97%", notes:"National Award for Allu Arjun. Made him a pan-India phenomenon. 'Srivalli' became a national anthem.", genre:"Action Drama" },
  "Hanu-Man": { hero:"Teja Sajja", director:"Prasanth Varma", year:2024, budget:"â‚¹40 Cr", ww:"â‚¹350 Cr", indiaNet:"â‚¹240 Cr", verdict:"All-Time Blockbuster", profit:"775%", notes:"Low-budget superhero film became a sensation. Highest ROI for a Telugu film in years.", genre:"Superhero" },
  "Nuvve Kavali": { hero:"Tarun Kumar", director:"K. Vijaya Bhaskar", year:2000, budget:"â‚¹3 Cr", ww:"â‚¹35.6 Cr", indiaNet:"â‚¹18 Cr", verdict:"All-Time Blockbuster", profit:"1,087%", notes:"Romantic classic. Made Tarun an overnight sensation. Songs are still iconic.", genre:"Romantic Drama" },
  "Narasimha Naidu": { hero:"Balakrishna", director:"B. Gopal", year:2001, budget:"â‚¹7 Cr", ww:"â‚¹35 Cr", indiaNet:"â‚¹18 Cr", verdict:"Blockbuster", profit:"400%", notes:"Balakrishna's mass entertainer. Legendary dialogues.", genre:"Action" },
  "Indra": { hero:"Chiranjeevi", director:"B. Gopal", year:2002, budget:"â‚¹8 Cr", ww:"â‚¹51 Cr", indiaNet:"â‚¹28 Cr", verdict:"All-Time Blockbuster", profit:"538%", notes:"Chiranjeevi's peak. Crossed â‚¹50 Cr â€” a milestone for Telugu cinema.", genre:"Action Drama" },
  "Simhadri": { hero:"Jr NTR", director:"S. S. Rajamouli", year:2003, budget:"â‚¹7 Cr", ww:"â‚¹55 Cr", indiaNet:"â‚¹28 Cr", verdict:"All-Time Blockbuster", profit:"686%", notes:"NTR's breakout film. First collaboration with Rajamouli. Industry hit.", genre:"Action Drama" },
  "Shankar Dada MBBS": { hero:"Chiranjeevi", director:"Jayanth C. Paranjee", year:2004, budget:"â‚¹8 Cr", ww:"â‚¹50.8 Cr", indiaNet:"â‚¹26 Cr", verdict:"Blockbuster", profit:"535%", notes:"Remake of Munnabhai MBBS. Chiranjeevi's comedy side.", genre:"Comedy Drama" },
  "Andarivaadu": { hero:"Chiranjeevi", director:"Ravi Babu", year:2005, budget:"â‚¹9 Cr", ww:"â‚¹36 Cr", indiaNet:"â‚¹19 Cr", verdict:"Hit", profit:"300%", notes:"Family entertainer.", genre:"Drama" },
  "Pokiri": { hero:"Mahesh Babu", director:"Puri Jagannadh", year:2006, budget:"â‚¹10 Cr", ww:"â‚¹63 Cr", indiaNet:"â‚¹35 Cr", verdict:"All-Time Blockbuster", profit:"530%", notes:"Game changer. Mahesh Babu became undisputed #1. Rewrote all BO records at the time.", genre:"Action Thriller" },
  "Yamadonga": { hero:"Jr NTR", director:"S. S. Rajamouli", year:2007, budget:"â‚¹18 Cr", ww:"â‚¹50 Cr", indiaNet:"â‚¹25 Cr", verdict:"Blockbuster", profit:"178%", notes:"Fantasy comedy. NTR-Rajamouli magic again. Ram Charan debut in Chirutha same year.", genre:"Fantasy Comedy" },
  "Jalsa": { hero:"Pawan Kalyan", director:"Trivikram Srinivas", year:2008, budget:"â‚¹18 Cr", ww:"â‚¹44 Cr", indiaNet:"â‚¹23 Cr", verdict:"Blockbuster", profit:"144%", notes:"First Pawan-Trivikram combo. Became a cult classic.", genre:"Action Drama" },
  "Magadheera": { hero:"Ram Charan", director:"S. S. Rajamouli", year:2009, budget:"â‚¹35 Cr", ww:"â‚¹150 Cr", indiaNet:"â‚¹72 Cr", verdict:"All-Time Blockbuster", profit:"329%", notes:"FIRST Telugu film to cross â‚¹100 Cr. Ram Charan became a superstar. Visual effects benchmark.", genre:"Period Fantasy" },
  "Simha": { hero:"Balakrishna", director:"Boyapati Srinu", year:2010, budget:"â‚¹18 Cr", ww:"â‚¹60 Cr", indiaNet:"â‚¹30 Cr", verdict:"Blockbuster", profit:"233%", notes:"First Balakrishna-Boyapati hit combo. Revived NBK's career.", genre:"Action" },
  "Dookudu": { hero:"Mahesh Babu", director:"Srinu Vaitla", year:2011, budget:"â‚¹35 Cr", ww:"â‚¹112 Cr", indiaNet:"â‚¹55 Cr", verdict:"All-Time Blockbuster", profit:"220%", notes:"Mahesh era dominance. â‚¹100 Cr+ club. Family entertainer.", genre:"Action Comedy" },
  "Gabbar Singh": { hero:"Pawan Kalyan", director:"Harish Shankar", year:2012, budget:"â‚¹20 Cr", ww:"â‚¹150 Cr", indiaNet:"â‚¹75 Cr", verdict:"All-Time Blockbuster", profit:"650%", notes:"Pawan's biggest mass hit. Dialogues became legendary. â‚¹150 Cr sensation.", genre:"Action Comedy" },
  "Attarintiki Daredi": { hero:"Pawan Kalyan", director:"Trivikram Srinivas", year:2013, budget:"â‚¹45 Cr", ww:"â‚¹187 Cr", indiaNet:"â‚¹87 Cr", verdict:"All-Time Industry Hit", profit:"316%", notes:"Held all-time record. Pawan-Trivikram magic. Industry hit of the decade.", genre:"Family Drama" },
  "Race Gurram": { hero:"Allu Arjun", director:"Surender Reddy", year:2014, budget:"â‚¹30 Cr", ww:"â‚¹110 Cr", indiaNet:"â‚¹55 Cr", verdict:"Blockbuster", profit:"267%", notes:"Allu Arjun arrived as a top star. High-energy entertainer.", genre:"Action Comedy" },
  "Janatha Garage": { hero:"Jr NTR", director:"Koratala Siva", year:2016, budget:"â‚¹65 Cr", ww:"â‚¹134.8 Cr", indiaNet:"â‚¹80 Cr", verdict:"Blockbuster", profit:"107%", notes:"NTR-Mohanlal combination. Biggest non-Baahubali film of 2016.", genre:"Action Drama" },
  "Bharat Ane Nenu": { hero:"Mahesh Babu", director:"Koratala Siva", year:2018, budget:"â‚¹75 Cr", ww:"â‚¹225 Cr", indiaNet:"â‚¹130 Cr", verdict:"Blockbuster", profit:"200%", notes:"Political thriller. Mahesh's biggest hit at the time. 2018 #1.", genre:"Political Thriller" },
  "Ala Vaikunthapurramuloo": { hero:"Allu Arjun", director:"Trivikram Srinivas", year:2020, budget:"â‚¹100 Cr", ww:"â‚¹280 Cr", indiaNet:"â‚¹140 Cr", verdict:"All-Time Blockbuster", profit:"180%", notes:"Epic Sankranti clash vs Sarileru Neekevvaru. Butta Bomma became global hit.", genre:"Family Drama" },
  "Sankranthiki Vasthunam": { hero:"Venkatesh", director:"Anil Ravipudi", year:2025, budget:"â‚¹50 Cr", ww:"â‚¹257 Cr", indiaNet:"â‚¹186.90 Cr", verdict:"Super Hit", profit:"274%", notes:"Budget â‚¹50 Cr â€” massive 274% ROI. Victory Venkatesh proved he's still a force.", genre:"Comedy Drama" },
  "They Call Him OG": { hero:"Pawan Kalyan", director:"Sujeeth", year:2025, budget:"â‚¹250 Cr", ww:"â‚¹294 Cr", indiaNet:"â‚¹160 Cr", verdict:"Underperformer", profit:"-", notes:"Pawan Kalyan's comeback after political career. Big opening but couldn't recover â‚¹250 Cr budget.", genre:"Action Thriller" },
  "Mana Shankara Vara Prasad Garu": { hero:"Chiranjeevi", director:"Anil Ravipudi", year:2026, budget:"â‚¹28 Cr (prod) / ~â‚¹200 Cr (total)", ww:"â‚¹303 Cr", indiaNet:"â‚¹200+ Cr", verdict:"Blockbuster", profit:"Plus", notes:"Production cost only â‚¹28 Cr (Anil Ravipudi interview). Total budget with remunerations ~â‚¹200 Cr. WW: â‚¹303.76 Cr (Koimoi closing). Megastar comeback.", genre:"Family Drama" },
  "Game Changer": { hero:"Ram Charan", director:"Shankar", year:2025, budget:"â‚¹400-450 Cr", ww:"â‚¹230 Cr", indiaNet:"â‚¹136.92 Cr", verdict:"Disaster", profit:"-52%", notes:"India net â‚¹136.92 Cr on â‚¹400-450 Cr budget. Shankar's Telugu debut. Massive underperformance.", genre:"Political Action" },
  "The RajaSaab": { hero:"Prabhas", director:"Maruthi", year:2026, budget:"â‚¹400 Cr", ww:"â‚¹207 Cr", indiaNet:"â‚¹120 Cr", verdict:"Flop", profit:"-63%", notes:"63.49% deficit on â‚¹400 Cr budget. WW â‚¹206.57 Cr. Prabhas's biggest disappointment.", genre:"Horror Comedy" },
  "Hari Hara Veera Mallu": { hero:"Pawan Kalyan", director:"Krish Jagarlamudi", year:2025, budget:"â‚¹300 Cr", ww:"â‚¹111 Cr", indiaNet:"â‚¹65 Cr", verdict:"Disaster", profit:"-63%", notes:"Budget â‚¹300 Cr, WW â‚¹111.49 Cr. Period epic that couldn't recover costs.", genre:"Period Action" },
  "Daaku Maharaaj": { hero:"Bobby Deol & Balakrishna", director:"Bobby Kolli", year:2025, budget:"â‚¹100 Cr", ww:"â‚¹126 Cr", indiaNet:"â‚¹90.93 Cr", verdict:"Average", profit:"26%", notes:"India net â‚¹90.93 Cr, WW â‚¹125.8 Cr. Average at box office.", genre:"Action" },
  "Srimanthudu": { hero:"Mahesh Babu", director:"Koratala Siva", year:2015, budget:"â‚¹50 Cr", ww:"â‚¹200 Cr", indiaNet:"â‚¹100 Cr", verdict:"All-Time Blockbuster", profit:"300%", notes:"Mahesh's social message film. â‚¹200 Cr in same year as Baahubali.", genre:"Social Action" },
  "Sarrainodu": { hero:"Allu Arjun", director:"Boyapati Srinu", year:2016, budget:"â‚¹40 Cr", ww:"â‚¹127 Cr", indiaNet:"â‚¹62 Cr", verdict:"Blockbuster", profit:"218%", notes:"Mass action entertainer. Allu Arjun's consistent rise.", genre:"Action" },
  "Rangasthalam": { hero:"Ram Charan", director:"Sukumar", year:2018, budget:"â‚¹60 Cr", ww:"â‚¹220 Cr", indiaNet:"â‚¹120 Cr", verdict:"All-Time Blockbuster", profit:"267%", notes:"Ram Charan's career-best performance. Rural period drama. Critics' favorite.", genre:"Period Drama" },
  "Maharshi": { hero:"Mahesh Babu", director:"Vamshi Paidipally", year:2019, budget:"â‚¹70 Cr", ww:"â‚¹200 Cr", indiaNet:"â‚¹105 Cr", verdict:"Blockbuster", profit:"186%", notes:"Won Filmfare, SIIMA awards. Social message film.", genre:"Drama" },
  "Waltair Veerayya": { hero:"Chiranjeevi", director:"Bobby Kolli", year:2023, budget:"â‚¹100 Cr", ww:"â‚¹236 Cr", indiaNet:"â‚¹115 Cr", verdict:"Blockbuster", profit:"136%", notes:"Chiranjeevi's mass comeback. Ravi Teja cameo.", genre:"Action Comedy" },
  "Kushi": { hero:"Pawan Kalyan", director:"S. J. Surya", year:2001, budget:"â‚¹5 Cr", ww:"â‚¹30 Cr", indiaNet:"â‚¹15 Cr", verdict:"Blockbuster", profit:"500%", notes:"Romantic classic. Made Pawan a star.", genre:"Romance" },
  "Chatrapathi": { hero:"Prabhas", director:"S. S. Rajamouli", year:2005, budget:"â‚¹10 Cr", ww:"â‚¹25 Cr", indiaNet:"â‚¹14 Cr", verdict:"Hit", profit:"150%", notes:"Prabhas-Rajamouli collaboration. Mass action.", genre:"Action" },
  "Athadu": { hero:"Mahesh Babu", director:"Trivikram Srinivas", year:2005, budget:"â‚¹10 Cr", ww:"â‚¹32 Cr", indiaNet:"â‚¹18 Cr", verdict:"Blockbuster", profit:"220%", notes:"Cult classic. Mahesh-Trivikram first combo.", genre:"Action Thriller" },
  "Khaidi 150": { hero:"Chiranjeevi", director:"V. V. Vinayak", year:2017, budget:"â‚¹60 Cr", ww:"â‚¹165 Cr", indiaNet:"â‚¹85 Cr", verdict:"Blockbuster", profit:"175%", notes:"Chiranjeevi's comeback after 10+ year break from politics.", genre:"Action" },
  "Geetha Govindam": { hero:"Vijay Deverakonda", director:"Parasuram", year:2018, budget:"â‚¹8 Cr", ww:"â‚¹132 Cr", indiaNet:"â‚¹65 Cr", verdict:"All-Time Blockbuster", profit:"1,550%", notes:"VD's biggest hit. Romantic entertainer. Songs went viral.", genre:"Romantic Comedy" },
  "F2": { hero:"Venkatesh & Varun Tej", director:"Anil Ravipudi", year:2019, budget:"â‚¹25 Cr", ww:"â‚¹140 Cr", indiaNet:"â‚¹72 Cr", verdict:"Blockbuster", profit:"460%", notes:"Comedy hit. Venkatesh comedy timing.", genre:"Comedy" },
  "Akhanda": { hero:"Balakrishna", director:"Boyapati Srinu", year:2021, budget:"â‚¹60 Cr", ww:"â‚¹100 Cr", indiaNet:"â‚¹52 Cr", verdict:"Hit", profit:"67%", notes:"NBK-Boyapati mass combo. Post-COVID hit.", genre:"Action" },
  "Sarileru Neekevvaru": { hero:"Mahesh Babu", director:"Anil Ravipudi", year:2020, budget:"â‚¹75 Cr", ww:"â‚¹260 Cr", indiaNet:"â‚¹130 Cr", verdict:"Blockbuster", profit:"247%", notes:"Epic Sankranti clash with Ala Vaikunthapurramuloo. Army drama.", genre:"Action Drama" },
  "Sarkaru Vaari Paata": { hero:"Mahesh Babu", director:"Parasuram", year:2022, budget:"â‚¹60 Cr", ww:"â‚¹230 Cr", indiaNet:"â‚¹110 Cr", verdict:"Blockbuster", profit:"283%", notes:"Mahesh's reliable hit machine continues.", genre:"Action Drama" },
  "Dasara": { hero:"Nani", director:"Srikanth Odela", year:2023, budget:"â‚¹30 Cr", ww:"â‚¹121 Cr", indiaNet:"â‚¹63 Cr", verdict:"Blockbuster", profit:"303%", notes:"Nani's rural action drama. Career-best.", genre:"Action Drama" },
  "Eega": { hero:"Nani", director:"S. S. Rajamouli", year:2012, budget:"â‚¹30 Cr", ww:"â‚¹90 Cr", indiaNet:"â‚¹42 Cr", verdict:"Blockbuster", profit:"200%", notes:"Unique concept â€” hero reborn as a fly. Rajamouli's creativity.", genre:"Fantasy" },
  "Arya": { hero:"Allu Arjun", director:"Sukumar", year:2004, budget:"â‚¹4 Cr", ww:"â‚¹15 Cr", indiaNet:"â‚¹9 Cr", verdict:"Hit", profit:"275%", notes:"Allu Arjun's breakthrough. First AA-Sukumar collab.", genre:"Romantic Drama" },
  "Vikramarkudu": { hero:"Ravi Teja", director:"S. S. Rajamouli", year:2006, budget:"â‚¹8 Cr", ww:"â‚¹35 Cr", indiaNet:"â‚¹19 Cr", verdict:"Blockbuster", profit:"338%", notes:"Ravi Teja-Rajamouli hit. Remade in Hindi as Rowdy Rathore.", genre:"Action Comedy" },
  "Businessman": { hero:"Mahesh Babu", director:"Puri Jagannadh", year:2012, budget:"â‚¹28 Cr", ww:"â‚¹100 Cr", indiaNet:"â‚¹48 Cr", verdict:"Blockbuster", profit:"257%", notes:"Stylish action thriller. Mahesh in gangster avatar.", genre:"Action Thriller" },
  "Mirchi": { hero:"Prabhas", director:"Koratala Siva", year:2013, budget:"â‚¹30 Cr", ww:"â‚¹75 Cr", indiaNet:"â‚¹38 Cr", verdict:"Blockbuster", profit:"150%", notes:"Prabhas pre-Baahubali. Action + romance.", genre:"Action Romance" },
  "Legend": { hero:"Balakrishna", director:"Boyapati Srinu", year:2014, budget:"â‚¹40 Cr", ww:"â‚¹100 Cr", indiaNet:"â‚¹55 Cr", verdict:"Blockbuster", profit:"150%", notes:"NBK-Boyapati mass formula.", genre:"Action" },
  "Manam": { hero:"Nagarjuna", director:"Vikram Kumar", year:2014, budget:"â‚¹20 Cr", ww:"â‚¹64 Cr", indiaNet:"â‚¹35 Cr", verdict:"Blockbuster", profit:"220%", notes:"Multi-generational drama with ANR, Nagarjuna, Naga Chaitanya.", genre:"Fantasy Drama" },
  "Jai Lava Kusa": { hero:"Jr NTR", director:"Bobby", year:2017, budget:"â‚¹60 Cr", ww:"â‚¹130 Cr", indiaNet:"â‚¹62 Cr", verdict:"Hit", profit:"117%", notes:"NTR triple role.", genre:"Action Drama" },
  "Salaar: Part 1 \u2013 Ceasefire": { hero:"Prabhas", director:"Prashanth Neel", year:2023, budget:"â‚¹200 Cr", ww:"â‚¹702 Cr", indiaNet:"â‚¹450 Cr", verdict:"All-Time Blockbuster", profit:"251%", notes:"Released alongside Dunki (SRK). Prabhas's biggest non-Baahubali Telugu-language opener.", genre:"Action Thriller" }
};

// ===== HERO FILMOGRAPHY DATABASE =====
const heroFilms = {
  "Chiranjeevi": [
    { title:"Indra", yr:2002, ww:"â‚¹51 Cr", verdict:"ATB", vClass:"blockbuster" },
    { title:"Tagore", yr:2003, ww:"â‚¹51 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Shankar Dada MBBS", yr:2004, ww:"â‚¹50.8 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Andarivaadu", yr:2005, ww:"â‚¹36 Cr", verdict:"Hit", vClass:"hit" },
    { title:"Khaidi 150", yr:2017, ww:"â‚¹165 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Sye Raa Narasimha Reddy", yr:2019, ww:"â‚¹240 Cr", verdict:"Avg", vClass:"avg" },
    { title:"Acharya", yr:2022, ww:"â‚¹80 Cr", verdict:"Flop", vClass:"flop" },
    { title:"Waltair Veerayya", yr:2023, ww:"â‚¹236 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Bholaa Shankar", yr:2023, ww:"â‚¹50 Cr", verdict:"Flop", vClass:"flop" },
    { title:"MSG", yr:2026, ww:"â‚¹303 Cr", verdict:"BB", vClass:"blockbuster" }
  ],
  "Pawan Kalyan": [
    { title:"Kushi", yr:2001, ww:"â‚¹30 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Jalsa", yr:2008, ww:"â‚¹44 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Gabbar Singh", yr:2012, ww:"â‚¹150 Cr", verdict:"ATB", vClass:"blockbuster" },
    { title:"Attarintiki Daredi", yr:2013, ww:"â‚¹187 Cr", verdict:"ATB", vClass:"blockbuster" },
    { title:"Katamarayudu", yr:2017, ww:"â‚¹85 Cr", verdict:"Avg", vClass:"avg" },
    { title:"Vakeel Saab", yr:2021, ww:"â‚¹80 Cr", verdict:"Avg", vClass:"avg" },
    { title:"Bheemla Nayak", yr:2022, ww:"â‚¹120 Cr", verdict:"Hit", vClass:"hit" },
    { title:"Hari Hara Veera Mallu", yr:2025, ww:"â‚¹111 Cr", verdict:"Disaster", vClass:"flop" },
    { title:"They Call Him OG", yr:2025, ww:"â‚¹294 Cr", verdict:"Under", vClass:"avg" }
  ],
  "Mahesh Babu": [
    { title:"Pokiri", yr:2006, ww:"â‚¹63 Cr", verdict:"ATB", vClass:"blockbuster" },
    { title:"Dookudu", yr:2011, ww:"â‚¹112 Cr", verdict:"ATB", vClass:"blockbuster" },
    { title:"Businessman", yr:2012, ww:"â‚¹100 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Seethamma Vakitlo Sirimalle Chettu", yr:2013, ww:"â‚¹90 Cr", verdict:"Hit", vClass:"hit" },
    { title:"Srimanthudu", yr:2015, ww:"â‚¹200 Cr", verdict:"ATB", vClass:"blockbuster" },
    { title:"Bharat Ane Nenu", yr:2018, ww:"â‚¹225 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Maharshi", yr:2019, ww:"â‚¹200 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Sarileru Neekevvaru", yr:2020, ww:"â‚¹260 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Sarkaru Vaari Paata", yr:2022, ww:"â‚¹230 Cr", verdict:"BB", vClass:"blockbuster" }
  ],
  "Jr NTR": [
    { title:"Simhadri", yr:2003, ww:"â‚¹55 Cr", verdict:"ATB", vClass:"blockbuster" },
    { title:"Yamadonga", yr:2007, ww:"â‚¹50 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Shakti", yr:2011, ww:"â‚¹60 Cr", verdict:"Hit", vClass:"hit" },
    { title:"Temper", yr:2015, ww:"â‚¹75 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Janatha Garage", yr:2016, ww:"â‚¹134.8 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Jai Lava Kusa", yr:2017, ww:"â‚¹130 Cr", verdict:"Hit", vClass:"hit" },
    { title:"Aravinda Sametha", yr:2018, ww:"â‚¹160 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"RRR", yr:2022, ww:"â‚¹1,387 Cr", verdict:"ATB", vClass:"blockbuster" },
    { title:"Devara", yr:2024, ww:"â‚¹521 Cr", verdict:"BB", vClass:"blockbuster" }
  ],
  "Prabhas": [
    { title:"Chatrapathi", yr:2005, ww:"â‚¹25 Cr", verdict:"Hit", vClass:"hit" },
    { title:"Mirchi", yr:2013, ww:"â‚¹75 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Baahubali 1", yr:2015, ww:"â‚¹650 Cr", verdict:"ATB", vClass:"blockbuster" },
    { title:"Baahubali 2", yr:2017, ww:"â‚¹1,810 Cr", verdict:"ATB", vClass:"blockbuster" },
    { title:"Saaho", yr:2019, ww:"â‚¹439 Cr", verdict:"Semi", vClass:"avg" },
    { title:"Radhe Shyam", yr:2022, ww:"â‚¹130 Cr", verdict:"Flop", vClass:"flop" },
    { title:"Adipurush", yr:2023, ww:"â‚¹400 Cr", verdict:"Flop", vClass:"flop" },
    { title:"Salaar", yr:2023, ww:"â‚¹702 Cr", verdict:"ATB", vClass:"blockbuster" },
    { title:"Kalki 2898 AD", yr:2024, ww:"â‚¹1,100 Cr", verdict:"ATB", vClass:"blockbuster" },
    { title:"The RajaSaab", yr:2026, ww:"â‚¹207 Cr", verdict:"Flop", vClass:"flop" }
  ],
  "Allu Arjun": [
    { title:"Arya", yr:2004, ww:"â‚¹15 Cr", verdict:"Hit", vClass:"hit" },
    { title:"Race Gurram", yr:2014, ww:"â‚¹110 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"S/O Satyamurthy", yr:2015, ww:"â‚¹90 Cr", verdict:"Hit", vClass:"hit" },
    { title:"Sarrainodu", yr:2016, ww:"â‚¹127 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"DJ", yr:2017, ww:"â‚¹110 Cr", verdict:"Hit", vClass:"hit" },
    { title:"Ala Vaikunthapurramuloo", yr:2020, ww:"â‚¹280 Cr", verdict:"ATB", vClass:"blockbuster" },
    { title:"Pushpa: The Rise", yr:2021, ww:"â‚¹393 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Pushpa 2: The Rule", yr:2024, ww:"â‚¹1,785 Cr", verdict:"ATB", vClass:"blockbuster" }
  ],
  "Ram Charan": [
    { title:"Chirutha", yr:2007, ww:"â‚¹22 Cr", verdict:"Hit", vClass:"hit" },
    { title:"Magadheera", yr:2009, ww:"â‚¹150 Cr", verdict:"ATB", vClass:"blockbuster" },
    { title:"Rangasthalam", yr:2018, ww:"â‚¹220 Cr", verdict:"ATB", vClass:"blockbuster" },
    { title:"RRR", yr:2022, ww:"â‚¹1,387 Cr", verdict:"ATB", vClass:"blockbuster" },
    { title:"Game Changer", yr:2025, ww:"â‚¹230 Cr", verdict:"Disaster", vClass:"flop" }
  ],
  "Nagarjuna": [
    { title:"Mass", yr:2004, ww:"â‚¹25 Cr", verdict:"Hit", vClass:"hit" },
    { title:"King", yr:2008, ww:"â‚¹30 Cr", verdict:"Hit", vClass:"hit" },
    { title:"Manam", yr:2014, ww:"â‚¹64 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Oopiri", yr:2016, ww:"â‚¹65 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Bangarraju", yr:2022, ww:"â‚¹62 Cr", verdict:"Hit", vClass:"hit" }
  ],
  "Venkatesh": [
    { title:"Nuvvu Naaku Nachav", yr:2001, ww:"â‚¹22 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Malliswari", yr:2004, ww:"â‚¹25 Cr", verdict:"Hit", vClass:"hit" },
    { title:"F2", yr:2019, ww:"â‚¹140 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"F3", yr:2022, ww:"â‚¹70 Cr", verdict:"Avg", vClass:"avg" },
    { title:"Saindhav", yr:2024, ww:"â‚¹20 Cr", verdict:"Flop", vClass:"flop" },
    { title:"Sankranthiki Vasthunam", yr:2025, ww:"â‚¹257 Cr", verdict:"SH", vClass:"blockbuster" }
  ],
  "Balakrishna": [
    { title:"Narasimha Naidu", yr:2001, ww:"â‚¹35 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Simha", yr:2010, ww:"â‚¹60 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Legend", yr:2014, ww:"â‚¹100 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Akhanda", yr:2021, ww:"â‚¹100 Cr", verdict:"Hit", vClass:"hit" },
    { title:"Veera Simha Reddy", yr:2023, ww:"â‚¹110 Cr", verdict:"Hit", vClass:"hit" },
    { title:"Daaku Maharaaj", yr:2025, ww:"â‚¹126 Cr", verdict:"Avg", vClass:"avg" }
  ],
  "Ravi Teja": [
    { title:"Idiot", yr:2002, ww:"â‚¹20 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Vikramarkudu", yr:2006, ww:"â‚¹35 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Kick", yr:2009, ww:"â‚¹40 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Krack", yr:2021, ww:"â‚¹50 Cr", verdict:"Hit", vClass:"hit" },
    { title:"Dhamaka", yr:2022, ww:"â‚¹55 Cr", verdict:"Hit", vClass:"hit" },
    { title:"Tiger Nageswara Rao", yr:2023, ww:"â‚¹65 Cr", verdict:"Avg", vClass:"avg" }
  ],
  "Nani": [
    { title:"Eega", yr:2012, ww:"â‚¹90 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Bhale Bhale Magadivoy", yr:2015, ww:"â‚¹42 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Nenu Local", yr:2017, ww:"â‚¹38 Cr", verdict:"Hit", vClass:"hit" },
    { title:"Jersey", yr:2019, ww:"â‚¹55 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Shyam Singha Roy", yr:2021, ww:"â‚¹45 Cr", verdict:"Hit", vClass:"hit" },
    { title:"Dasara", yr:2023, ww:"â‚¹121 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Hi Nanna", yr:2023, ww:"â‚¹80 Cr", verdict:"BB", vClass:"blockbuster" }
  ],
  "Vijay Deverakonda": [
    { title:"Arjun Reddy", yr:2017, ww:"â‚¹51 Cr", verdict:"BB", vClass:"blockbuster" },
    { title:"Geetha Govindam", yr:2018, ww:"â‚¹132 Cr", verdict:"ATB", vClass:"blockbuster" },
    { title:"Dear Comrade", yr:2019, ww:"â‚¹35 Cr", verdict:"Flop", vClass:"flop" },
    { title:"World Famous Lover", yr:2020, ww:"â‚¹15 Cr", verdict:"Flop", vClass:"flop" },
    { title:"Liger", yr:2022, ww:"â‚¹55 Cr", verdict:"Flop", vClass:"flop" },
    { title:"Kushi", yr:2023, ww:"â‚¹105 Cr", verdict:"Hit", vClass:"hit" }
  ]
};

// ===== MODAL SYSTEM =====
const modalOverlay = document.getElementById('modalOverlay');
const modalHeader = document.getElementById('modalHeader');
const modalBody = document.getElementById('modalBody');
const modalClose = document.getElementById('modalClose');

function openModal(headerHTML, bodyHTML) {
  modalHeader.innerHTML = headerHTML;
  modalBody.innerHTML = bodyHTML;
  modalOverlay.classList.add('active');
  document.body.style.overflow = 'hidden';
}

function closeModal() {
  modalOverlay.classList.remove('active');
  document.body.style.overflow = '';
}

modalClose.addEventListener('click', closeModal);
modalOverlay.addEventListener('click', (e) => {
  if (e.target === modalOverlay) closeModal();
});
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') closeModal();
});

function getVerdictClass(verdict) {
  const v = (verdict || '').toLowerCase();
  if (v.includes('blockbuster') || v.includes('atb') || v.includes('super hit') || v === 'sh') return 'blockbuster';
  if (v.includes('hit') || v.includes('semi')) return 'hit';
  if (v.includes('avg') || v.includes('average') || v.includes('under')) return 'avg';
  return 'flop';
}

function getHeroColor(heroName) {
  const map = {
    'Chiranjeevi':'#FF6B00', 'Pawan Kalyan':'#DC2626', 'Mahesh Babu':'#2563EB',
    'Jr NTR':'#7C3AED', 'Prabhas':'#059669', 'Allu Arjun':'#D97706',
    'Ram Charan':'#0891B2', 'Balakrishna':'#DB2777', 'Venkatesh':'#4F46E5',
    'Nagarjuna':'#78716c', 'Ravi Teja':'#f97316', 'Nani':'#22d3ee',
    'Vijay Deverakonda':'#e11d48'
  };
  for (const [name, color] of Object.entries(map)) {
    if (heroName.includes(name)) return color;
  }
  return '#6B7280';
}

// ===== MOVIE DETAIL MODAL =====
function openMovieModal(movieName) {
  const m = movieDB[movieName];
  if (!m) {
    // Try partial match
    const key = Object.keys(movieDB).find(k => k.toLowerCase().includes(movieName.toLowerCase()) || movieName.toLowerCase().includes(k.toLowerCase()));
    if (key) return openMovieModal(key);
    return;
  }
  const hc = getHeroColor(m.hero);
  const vc = getVerdictClass(m.verdict);

  const header = `
    <div class="modal-hero-badge" style="background:${hc}22;color:${hc};border:1px solid ${hc}44;">${m.hero}</div>
    <div class="modal-title">${movieName}</div>
    <div class="modal-subtitle">${m.genre || ''} &bull; ${m.year} &bull; Dir: ${m.director}</div>
  `;

  let statsHTML = `
    <div class="modal-stat-card">
      <div class="modal-stat-value" style="color:${hc};">${m.ww}</div>
      <div class="modal-stat-label">Worldwide Gross</div>
    </div>
  `;
  if (m.indiaNet) statsHTML += `
    <div class="modal-stat-card">
      <div class="modal-stat-value">${m.indiaNet}</div>
      <div class="modal-stat-label">India Net</div>
    </div>
  `;
  statsHTML += `
    <div class="modal-stat-card">
      <div class="modal-stat-value">${m.budget}</div>
      <div class="modal-stat-label">Budget</div>
    </div>
  `;
  if (m.profit && m.profit !== '-') statsHTML += `
    <div class="modal-stat-card">
      <div class="modal-stat-value" style="color:${m.profit.includes('-') ? '#ef4444' : '#22c55e'};">${m.profit}</div>
      <div class="modal-stat-label">ROI</div>
    </div>
  `;

  const body = `
    <div class="modal-verdict ${vc}">${m.verdict}</div>
    <div class="modal-stats">${statsHTML}</div>
    ${m.notes ? `<div class="modal-notes">${m.notes}</div>` : ''}
  `;

  openModal(header, body);
}

// ===== HERO DETAIL MODAL =====
function openHeroModal(heroName) {
  const h = heroesData.find(x => x.name === heroName);
  if (!h) return;
  const films = heroFilms[heroName] || [];
  const hc = h.color;
  const pctColor = h.pct >= 65 ? '#22c55e' : h.pct >= 50 ? '#f5c518' : '#ef4444';

  const header = `
    <div class="modal-hero-badge" style="background:${hc}22;color:${hc};border:1px solid ${hc}44;">"${h.nick}"</div>
    <div style="display:flex;align-items:center;gap:16px;margin-top:8px;">
      <div style="width:64px;height:64px;border-radius:50%;overflow:hidden;border:3px solid ${hc};flex-shrink:0;box-shadow:0 0 20px ${hc}44;">
        <img src="${h.img}" alt="${h.name}" style="width:100%;height:100%;object-fit:cover;" onerror="this.parentElement.style.background='${hc}33';this.style.display='none';this.parentElement.insertAdjacentHTML('afterbegin','<span style=font-family:Bebas+Neue,sans-serif;font-size:1.5rem;color:#fff;line-height:64px;display:block;text-align:center>${h.initials}</span>');">
      </div>
      <div>
        <div class="modal-title" style="color:${hc};">${h.name}</div>
        <div class="modal-subtitle">Career: ${h.films} Films &bull; ${h.hits} Hits &bull; Peak: ${h.peak}</div>
      </div>
    </div>
  `;

  const statsHTML = `
    <div class="modal-stat-card">
      <div class="modal-stat-value" style="color:${hc};">${h.career}</div>
      <div class="modal-stat-label">Career Total WW</div>
    </div>
    <div class="modal-stat-card">
      <div class="modal-stat-value">${h.highest}</div>
      <div class="modal-stat-label">Highest Grosser</div>
    </div>
    <div class="modal-stat-card">
      <div class="modal-stat-value" style="color:${pctColor};">${h.pct}%</div>
      <div class="modal-stat-label">Hit Rate</div>
    </div>
    <div class="modal-stat-card">
      <div class="modal-stat-value">${h.films}</div>
      <div class="modal-stat-label">Total Films</div>
    </div>
  `;

  const hitPct = (h.hits / h.films * 100);
  const barHTML = `
    <div class="career-bar-container">
      <div class="career-bar-label">
        <span>Hits: ${h.hits}</span>
        <span>Non-Hits: ${h.films - h.hits}</span>
      </div>
      <div class="career-bar">
        <div class="career-bar-fill" style="width:${hitPct}%;background:linear-gradient(90deg, ${hc}, ${hc}88);"></div>
      </div>
    </div>
  `;

  let filmTable = '';
  if (films.length > 0) {
    filmTable = `
      <div class="modal-section-label">Key Filmography</div>
      <table class="modal-filmography">
        <tr><th>Film</th><th>Year</th><th>WW Gross</th><th>Verdict</th></tr>
        ${films.map(f => `
          <tr>
            <td class="film-title">${f.title}</td>
            <td>${f.yr}</td>
            <td>${f.ww}</td>
            <td class="verdict-cell verdict-${f.vClass}">${f.verdict}</td>
          </tr>
        `).join('')}
      </table>
    `;
  }

  const body = `
    <div class="modal-stats">${statsHTML}</div>
    ${barHTML}
    ${filmTable}
  `;

  openModal(header, body);
}

// ===== MAKE ELEMENTS CLICKABLE =====

// 1. King Card
document.getElementById('kingCard').classList.add('clickable');
document.getElementById('kingCard').addEventListener('click', () => {
  openMovieModal('Mana Shankara Vara Prasad Garu');
});

// 2. Champion Cards
document.querySelectorAll('.champion-card .glass-card').forEach(card => {
  card.classList.add('clickable');
  card.addEventListener('click', () => {
    const movieEl = card.querySelector('.champion-movie');
    if (movieEl) openMovieModal(movieEl.textContent.trim());
  });
});

// 3. Leaderboard Bars
document.querySelectorAll('.lb-bar-wrapper').forEach((wrapper, i) => {
  wrapper.classList.add('clickable');
  wrapper.addEventListener('click', () => {
    openMovieModal(top10[i].movie);
  });
});

// 4. Timeline Cards
document.querySelectorAll('.timeline-card').forEach((card, i) => {
  card.classList.add('clickable');
  card.addEventListener('click', () => {
    const td = timelineData[i];
    if (td) openMovieModal(td.movie);
  });
});

// 5. Hero Flip Cards â€” click opens modal (separate from hover-flip)
document.querySelectorAll('.hero-flip-card').forEach((card, i) => {
  card.addEventListener('click', (e) => {
    openHeroModal(heroesData[i].name);
  });
});

// 6. Dominance Grid Cells
document.querySelectorAll('.dominance-cell').forEach((cell, i) => {
  cell.classList.add('clickable');
  cell.addEventListener('click', () => {
    const d = dominanceData[i];
    // Find the hero name, try opening hero modal
    const heroName = d.hero.includes('&') ? d.hero.split('&')[0].trim() : d.hero;
    // Find matching hero
    const match = heroesData.find(h => heroName.includes(h.name) || h.name.includes(heroName));
    if (match) openHeroModal(match.name);
  });
});

</script>

<!-- FLOATING SEARCH FAB -->
<button id="searchFab" title="Search (Ctrl+K)">
  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
  <span class="fab-shortcut">Ctrl+K</span>
</button>

<!-- SEARCH OVERLAY -->
<div id="searchOverlay">
  <div class="search-box-wrap">
    <div class="search-input-row">
      <span class="search-icon-inner">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
      </span>
      <input id="searchInput" type="text" placeholder="Search movies, heroes..." autocomplete="off" spellcheck="false">
      <button class="search-close-btn" id="searchCloseBtn">&times;</button>
    </div>
    <div class="search-hint">Press ESC or click outside to close &nbsp;&bull;&nbsp; Ctrl+K / Cmd+K to open</div>
  </div>
  <div id="searchResults"></div>
</div>

<script>
// ===== FLOATING SEARCH =====
(function initSearch() {
  const fab = document.getElementById('searchFab');
  const overlay = document.getElementById('searchOverlay');
  const input = document.getElementById('searchInput');
  const resultsEl = document.getElementById('searchResults');
  const closeBtn = document.getElementById('searchCloseBtn');
  if (!fab || !overlay || !input) return;

  function openSearch() {
    overlay.classList.add('active');
    document.body.style.overflow = 'hidden';
    setTimeout(() => input.focus(), 50);
  }
  function closeSearch() {
    overlay.classList.remove('active');
    document.body.style.overflow = '';
    input.value = '';
    resultsEl.innerHTML = '';
  }

  fab.addEventListener('click', openSearch);
  closeBtn.addEventListener('click', closeSearch);
  overlay.addEventListener('click', (e) => {
    if (e.target === overlay) closeSearch();
  });

  // Keyboard shortcut Ctrl+K / Cmd+K
  document.addEventListener('keydown', (e) => {
    if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
      e.preventDefault();
      overlay.classList.contains('active') ? closeSearch() : openSearch();
    }
    if (e.key === 'Escape' && overlay.classList.contains('active')) {
      closeSearch();
    }
  });

  // Debounced search
  let debounceTimer;
  input.addEventListener('input', () => {
    clearTimeout(debounceTimer);
    debounceTimer = setTimeout(() => performSearch(input.value.trim()), 200);
  });

  function escHTML(str) {
    return String(str).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');
  }

  function performSearch(query) {
    if (!query) { resultsEl.innerHTML = ''; return; }
    const q = query.toLowerCase();

    // Search heroes
    const heroMatches = heroesData.filter(h =>
      h.name.toLowerCase().includes(q) || h.nick.toLowerCase().includes(q)
    );

    // Search movies
    const movieMatches = Object.entries(movieDB).filter(([name, m]) =>
      name.toLowerCase().includes(q) ||
      (m.hero && m.hero.toLowerCase().includes(q)) ||
      (m.genre && m.genre.toLowerCase().includes(q))
    ).slice(0, 8);

    if (!heroMatches.length && !movieMatches.length) {
      resultsEl.innerHTML = '<div class="search-no-results">No results for &ldquo;' + escHTML(query) + '&rdquo;</div>';
      return;
    }

    let html = '';

    if (heroMatches.length) {
      html += '<div class="search-results-group-label">Heroes</div>';
      heroMatches.forEach(h => {
        html += '<div class="search-result-item" data-type="hero" data-name="' + escHTML(h.name) + '">' +
          '<div class="search-result-photo" style="border:2px solid ' + h.color + ';background:' + h.color + '22;">' +
            '<img src="' + h.img + '" alt="' + escHTML(h.name) + '" style="width:100%;height:100%;object-fit:cover;" onerror="this.style.display=\x27none\x27">' +
          '</div>' +
          '<div>' +
            '<div class="search-result-title">' + escHTML(h.name) + '</div>' +
            '<div class="search-result-sub">' + escHTML(h.nick) + ' &bull; ' + h.films + ' films &bull; ' + h.pct + '% hit rate</div>' +
          '</div>' +
        '</div>';
      });
    }

    if (movieMatches.length) {
      html += '<div class="search-results-group-label">Movies</div>';
      movieMatches.forEach(function(entry) {
        var name = entry[0], m = entry[1];
        var hc = getHeroColor(m.hero || '');
        html += '<div class="search-result-item" data-type="movie" data-name="' + escHTML(name) + '">' +
          '<div class="search-result-icon" style="background:' + hc + '22;color:' + hc + ';">&#127916;</div>' +
          '<div>' +
            '<div class="search-result-title">' + escHTML(name) + '</div>' +
            '<div class="search-result-sub">' + escHTML(m.hero || '') + ' &bull; ' + (m.year || '') + ' &bull; ' + escHTML(m.ww || '') + '</div>' +
          '</div>' +
        '</div>';
      });
    }

    resultsEl.innerHTML = html;

    // Click handlers
    resultsEl.querySelectorAll('.search-result-item').forEach(item => {
      item.addEventListener('click', () => {
        const type = item.dataset.type;
        const name = item.dataset.name;
        closeSearch();
        setTimeout(() => {
          if (type === 'hero') openHeroModal(name);
          else if (type === 'movie') openMovieModal(name);
        }, 200);
      });
    });
  }
})();
</script>

</body>
</html>